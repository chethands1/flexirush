{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/MagicMap.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useMemo } from \"react\";\r\nimport { useSessionStore } from \"@/store/sessionStore\";\r\n\r\nexport default function MagicMap() {\r\n  const { participants } = useSessionStore();\r\n\r\n  // FIX: Use deterministic \"randomness\" based on User ID.\r\n  // This makes the function pure (Same Input = Same Output), satisfying the linter.\r\n  const locations = useMemo(() => {\r\n    return participants.map((p) => {\r\n      // Simple hash generation from string\r\n      let hash = 0;\r\n      for (let i = 0; i < p.id.length; i++) {\r\n        hash = p.id.charCodeAt(i) + ((hash << 5) - hash);\r\n      }\r\n      \r\n      // Map hash to coordinate ranges (Lat: -70 to 70, Lng: -180 to 180)\r\n      const lat = (Math.abs(hash) % 140) - 70;\r\n      const lng = (Math.abs(hash >> 16) % 360) - 180;\r\n\r\n      return {\r\n        id: p.id,\r\n        name: p.name,\r\n        lat,\r\n        lng,\r\n      };\r\n    });\r\n  }, [participants]);\r\n\r\n  return (\r\n    <div className=\"w-full h-full bg-slate-950 relative overflow-hidden flex items-center justify-center\">\r\n      {/* Background Map Placeholder */}\r\n      <div \r\n        className=\"absolute inset-0 opacity-20 bg-[url('https://upload.wikimedia.org/wikipedia/commons/e/ec/World_map_blank_without_borders.svg')] bg-cover bg-center\"\r\n        /* webhint: ignore inline-styles */\r\n        style={{ filter: \"invert(1)\" }}\r\n      ></div>\r\n\r\n      {locations.map((loc) => (\r\n        <div\r\n          key={loc.id}\r\n          className=\"absolute flex flex-col items-center transform -translate-x-1/2 -translate-y-1/2 transition-all duration-1000 ease-in-out\"\r\n          /* webhint: ignore inline-styles */\r\n          style={{\r\n            top: `${(loc.lat + 90) / 1.8}%`, // Equirectangular projection approximation\r\n            left: `${(loc.lng + 180) / 3.6}%`,\r\n          }}\r\n        >\r\n          <div className=\"w-4 h-4 bg-blue-500 rounded-full shadow-[0_0_10px_#3b82f6] animate-ping absolute\"></div>\r\n          <div className=\"w-3 h-3 bg-white rounded-full relative z-10\"></div>\r\n          <div className=\"mt-2 bg-black/70 px-2 py-1 rounded text-xs font-bold text-white whitespace-nowrap z-20 backdrop-blur-sm border border-slate-700\">\r\n            {loc.name}\r\n          </div>\r\n        </div>\r\n      ))}\r\n\r\n      {locations.length === 0 && (\r\n        <div className=\"z-10 text-center\">\r\n          <h3 className=\"text-2xl font-bold text-slate-500\">Waiting for signals...</h3>\r\n          <p className=\"text-slate-600\">Audience locations will appear here.</p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAKe,SAAS;;IACtB,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,kJAAe;IAExC,wDAAwD;IACxD,kFAAkF;IAClF,MAAM,YAAY,IAAA,wKAAO;uCAAC;YACxB,OAAO,aAAa,GAAG;+CAAC,CAAC;oBACvB,qCAAqC;oBACrC,IAAI,OAAO;oBACX,IAAK,IAAI,IAAI,GAAG,IAAI,EAAE,EAAE,CAAC,MAAM,EAAE,IAAK;wBACpC,OAAO,EAAE,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,IAAI;oBACjD;oBAEA,mEAAmE;oBACnE,MAAM,MAAM,AAAC,KAAK,GAAG,CAAC,QAAQ,MAAO;oBACrC,MAAM,MAAM,AAAC,KAAK,GAAG,CAAC,QAAQ,MAAM,MAAO;oBAE3C,OAAO;wBACL,IAAI,EAAE,EAAE;wBACR,MAAM,EAAE,IAAI;wBACZ;wBACA;oBACF;gBACF;;QACF;sCAAG;QAAC;KAAa;IAEjB,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBACC,WAAU;gBACV,iCAAiC,GACjC,OAAO;oBAAE,QAAQ;gBAAY;;;;;;YAG9B,UAAU,GAAG,CAAC,CAAC,oBACd,6LAAC;oBAEC,WAAU;oBACV,iCAAiC,GACjC,OAAO;wBACL,KAAK,GAAG,CAAC,IAAI,GAAG,GAAG,EAAE,IAAI,IAAI,CAAC,CAAC;wBAC/B,MAAM,GAAG,CAAC,IAAI,GAAG,GAAG,GAAG,IAAI,IAAI,CAAC,CAAC;oBACnC;;sCAEA,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;;;;;;sCACf,6LAAC;4BAAI,WAAU;sCACZ,IAAI,IAAI;;;;;;;mBAXN,IAAI,EAAE;;;;;YAgBd,UAAU,MAAM,KAAK,mBACpB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAG,WAAU;kCAAoC;;;;;;kCAClD,6LAAC;wBAAE,WAAU;kCAAiB;;;;;;;;;;;;;;;;;;AAKxC;GA7DwB;;QACG,kJAAe;;;KADlB"}}]
}