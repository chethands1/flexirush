{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/store/sessionStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\n\r\n// --- DATA MODELS ---\r\n\r\nexport interface Question {\r\n  id: string;\r\n  text: string;\r\n  votes: number;\r\n  visible: boolean; // Used for Q&A Moderation\r\n}\r\n\r\nexport interface User {\r\n  id: number;\r\n  email: string;\r\n}\r\n\r\nexport interface Poll {\r\n  type: \"multiple_choice\" | \"rating\" | \"word_cloud\" | \"open_ended\"; \r\n  id: string;\r\n  question: string;\r\n  is_open: boolean;\r\n  options?: { label: string; votes: number }[];\r\n  average?: number;\r\n  counts?: Record<string, number>;\r\n  words?: Record<string, number>;\r\n  responses?: string[]; // Used for Transient Thoughts (open_ended)\r\n  total_responses?: number;\r\n}\r\n\r\nexport interface QuizQuestion {\r\n  id: string;\r\n  text: string;\r\n  options: string[];\r\n  correct_index: number;\r\n  time_limit: number;\r\n}\r\n\r\nexport interface QuizState {\r\n  title: string;\r\n  questions: QuizQuestion[];\r\n  current_index: number;\r\n  state: \"LOBBY\" | \"QUESTION\" | \"LEADERBOARD\" | \"END\";\r\n  start_time_epoch: number;\r\n}\r\n\r\nexport interface UserLocation {\r\n  name: string;\r\n  lat: number;\r\n  lng: number;\r\n  city: string;\r\n}\r\n\r\nexport interface Branding {\r\n  logo_url: string | null;\r\n  theme_color: string;\r\n}\r\n\r\n// --- STORE DEFINITION ---\r\n\r\ninterface SessionState {\r\n  // Connection & Room Data\r\n  isConnected: boolean;\r\n  participants: string[];\r\n  locations: UserLocation[];\r\n  \r\n  // Interactive Elements\r\n  currentPoll: Poll | null;\r\n  questions: Question[]; // Q&A\r\n  lastReaction: string | null;\r\n  \r\n  // Gamification\r\n  quiz: QuizState | null;\r\n  quizScores: Record<string, number>; \r\n  \r\n  // Customization\r\n  branding: Branding;\r\n\r\n  // Authentication\r\n  token: string | null;\r\n  user: User | null;\r\n  \r\n\r\n  // --- ACTIONS ---\r\n  setConnectionStatus: (status: boolean) => void;\r\n  setParticipants: (names: string[]) => void;\r\n  setLocations: (locs: UserLocation[]) => void;\r\n  \r\n  setPoll: (poll: Poll) => void;\r\n  setQuestions: (qs: Question[]) => void;\r\n  triggerReaction: (emoji: string) => void;\r\n  \r\n  setQuiz: (quiz: QuizState | null, scores?: Record<string, number>) => void;\r\n  setBranding: (branding: Branding) => void;\r\n  \r\n  setToken: (token: string | null) => void;\r\n  setUser: (user: User | null) => void;\r\n}\r\n\r\nexport const useSessionStore = create<SessionState>((set) => ({\r\n  // --- INITIAL STATE ---\r\n  isConnected: false,\r\n  participants: [],\r\n  locations: [],\r\n  \r\n  currentPoll: null,\r\n  questions: [],\r\n  lastReaction: null,\r\n  \r\n  quiz: null,\r\n  quizScores: {},\r\n  \r\n  branding: {\r\n    logo_url: null,\r\n    theme_color: \"#3b82f6\", // Default blue-500\r\n  },\r\n\r\n  // Check localStorage for token on load (Client-side only check)\r\n  token: typeof window !== 'undefined' ? localStorage.getItem('token') : null,\r\n  user: null,\r\n\r\n  // --- ACTIONS IMPLEMENTATION ---\r\n\r\n  setConnectionStatus: (status) => set({ isConnected: status }),\r\n  setParticipants: (names) => set({ participants: names }),\r\n  setLocations: (locs) => set({ locations: locs }),\r\n\r\n  setPoll: (poll) => set({ currentPoll: poll }),\r\n  setQuestions: (qs) => set({ questions: qs }),\r\n  triggerReaction: (emoji) => set({ lastReaction: `${emoji}-${Date.now()}` }),\r\n\r\n  setQuiz: (quiz, scores) => set((state) => ({ \r\n      quiz, \r\n      quizScores: scores || state.quizScores \r\n  })),\r\n\r\n  setBranding: (branding) => set({ branding }),\r\n\r\n  // Auth Actions with Persistence\r\n  setToken: (token) => {\r\n    if (typeof window !== 'undefined') {\r\n      if (token) localStorage.setItem('token', token);\r\n      else localStorage.removeItem('token');\r\n    }\r\n    set({ token });\r\n  },\r\n  setUser: (user) => set({ user }),\r\n}));"],"names":[],"mappings":";;;;AAAA;;AAkGO,MAAM,kBAAkB,IAAA,qJAAM,EAAe,CAAC,MAAQ,CAAC;QAC5D,wBAAwB;QACxB,aAAa;QACb,cAAc,EAAE;QAChB,WAAW,EAAE;QAEb,aAAa;QACb,WAAW,EAAE;QACb,cAAc;QAEd,MAAM;QACN,YAAY,CAAC;QAEb,UAAU;YACR,UAAU;YACV,aAAa;QACf;QAEA,gEAAgE;QAChE,OAAO,uCAAgC,aAAa,OAAO,CAAC,WAAW;QACvE,MAAM;QAEN,iCAAiC;QAEjC,qBAAqB,CAAC,SAAW,IAAI;gBAAE,aAAa;YAAO;QAC3D,iBAAiB,CAAC,QAAU,IAAI;gBAAE,cAAc;YAAM;QACtD,cAAc,CAAC,OAAS,IAAI;gBAAE,WAAW;YAAK;QAE9C,SAAS,CAAC,OAAS,IAAI;gBAAE,aAAa;YAAK;QAC3C,cAAc,CAAC,KAAO,IAAI;gBAAE,WAAW;YAAG;QAC1C,iBAAiB,CAAC,QAAU,IAAI;gBAAE,cAAc,GAAG,MAAM,CAAC,EAAE,KAAK,GAAG,IAAI;YAAC;QAEzE,SAAS,CAAC,MAAM,SAAW,IAAI,CAAC,QAAU,CAAC;oBACvC;oBACA,YAAY,UAAU,MAAM,UAAU;gBAC1C,CAAC;QAED,aAAa,CAAC,WAAa,IAAI;gBAAE;YAAS;QAE1C,gCAAgC;QAChC,UAAU,CAAC;YACT,wCAAmC;gBACjC,IAAI,OAAO,aAAa,OAAO,CAAC,SAAS;qBACpC,aAAa,UAAU,CAAC;YAC/B;YACA,IAAI;gBAAE;YAAM;QACd;QACA,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;IAChC,CAAC"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useRealtime.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { useSessionStore } from '@/store/sessionStore';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function useRealtime(sessionCode: string, myName?: string) {\r\n  const ws = useRef<WebSocket | null>(null);\r\n  const router = useRouter();\r\n  const reconnectTimeout = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  useEffect(() => {\r\n    // 1. Safety Check: Stop if code is missing or literally \"undefined\"\r\n    // This prevents connection attempts before the URL params are ready.\r\n    if (!sessionCode || sessionCode === \"undefined\" || sessionCode === \"\") {\r\n        console.log(\"â³ WebSocket: Waiting for a valid session code...\");\r\n        return;\r\n    }\r\n\r\n    const connect = () => {\r\n      // Clear any existing reconnect timers\r\n      if (reconnectTimeout.current) clearTimeout(reconnectTimeout.current);\r\n\r\n      const wsUrl = `ws://localhost:8001/ws/${sessionCode}/presenter`; \r\n      console.log(`ðŸ”Œ WebSocket: Attempting connection to ${wsUrl}`);\r\n      \r\n      ws.current = new WebSocket(wsUrl);\r\n\r\n      ws.current.onopen = () => {\r\n        console.log('âœ… WebSocket: Stable connection established for code:', sessionCode);\r\n        useSessionStore.getState().setConnectionStatus(true);\r\n        \r\n        // 2. Initial Fetch: Grab current room state immediately upon connection\r\n        fetch(`http://localhost:8001/api/session/${sessionCode}/state`)\r\n          .then(res => res.ok ? res.json() : null)\r\n          .then(data => {\r\n            if (!data) return;\r\n            console.log(\"ðŸ“¥ WebSocket: Initial state sync successful\");\r\n            const store = useSessionStore.getState();\r\n            \r\n            // Map individual data points to store\r\n            if (data.current_poll) store.setPoll(data.current_poll);\r\n            if (data.questions) store.setQuestions(data.questions);\r\n            if (data.participants) store.setParticipants(data.participants);\r\n            if (data.quiz) store.setQuiz(data.quiz, data.quiz_scores);\r\n            if (data.locations) store.setLocations(data.locations);\r\n            if (data.branding) store.setBranding(data.branding);\r\n          })\r\n          .catch(err => console.error(\"âŒ WebSocket: Initial sync failed:\", err));\r\n      };\r\n\r\n      ws.current.onmessage = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.data);\r\n          const store = useSessionStore.getState();\r\n\r\n          // DEBUG: Log every incoming push message\r\n          console.log(`ðŸ“¡ WebSocket: Received broadcast [${data.type}]`, data);\r\n\r\n          // 3. Dispatch incoming data to Zustand Store based on event type\r\n          switch (data.type) {\r\n            case 'POLL_START':\r\n            case 'POLL_UPDATE':\r\n              store.setPoll(data.payload);\r\n              break;\r\n            \r\n            case 'QNA_UPDATE':\r\n              store.setQuestions(data.payload);\r\n              break;\r\n\r\n            case 'PARTICIPANT_UPDATE':\r\n              store.setParticipants(data.names);\r\n              if (data.locations) store.setLocations(data.locations);\r\n              break;\r\n\r\n            case 'REACTION':\r\n              store.triggerReaction(data.emoji);\r\n              break;\r\n\r\n            case 'BRANDING_UPDATE':\r\n              store.setBranding(data.payload);\r\n              break;\r\n\r\n            case 'QUIZ_UPDATE':\r\n              // Handle both direct payloads and object-wrapped payloads\r\n              if (data.payload?.quiz) {\r\n                  store.setQuiz(data.payload.quiz, data.payload.scores);\r\n              } else {\r\n                  store.setQuiz(data.payload);\r\n              }\r\n              break;\r\n\r\n            case 'USER_KICKED':\r\n              if (myName && data.target_name === myName) {\r\n                  alert(\"You have been kicked from the session.\");\r\n                  ws.current?.close(); \r\n                  router.push('/'); \r\n              }\r\n              break;\r\n            \r\n            default:\r\n              console.warn(`âš ï¸ WebSocket: Unhandled event type: ${data.type}`);\r\n          }\r\n        } catch (e) {\r\n          console.error(\"âŒ WebSocket: Failed to parse incoming message:\", e);\r\n        }\r\n      };\r\n\r\n      ws.current.onclose = (e) => {\r\n        console.log(`âŒ WebSocket: Disconnected (Code: ${e.code}).`);\r\n        useSessionStore.getState().setConnectionStatus(false);\r\n        \r\n        // 4. Robust Reconnect: Only retry if not a clean intentional close\r\n        if (e.code !== 1000 && window.location.pathname.includes(sessionCode)) {\r\n          console.log(\"â™»ï¸ WebSocket: Attempting to reconnect in 3s...\");\r\n          reconnectTimeout.current = setTimeout(connect, 3000);\r\n        }\r\n      };\r\n\r\n      ws.current.onerror = (err) => {\r\n        console.error(\"âŒ WebSocket: Socket encountered an error: \", err);\r\n        ws.current?.close();\r\n      };\r\n    };\r\n\r\n    connect();\r\n\r\n    return () => {\r\n      console.log(\"ðŸ›‘ WebSocket: Cleaning up hook, closing connection.\");\r\n      if (reconnectTimeout.current) clearTimeout(reconnectTimeout.current);\r\n      ws.current?.close();\r\n    };\r\n  }, [sessionCode, myName, router]);\r\n}"],"names":["useEffect","useRef","useSessionStore","useRouter","useRealtime","sessionCode","myName","ws","WebSocket","router","reconnectTimeout","NodeJS","Timeout","console","log","connect","current","clearTimeout","wsUrl","onopen","getState","setConnectionStatus","fetch","then","res","ok","json","data","store","current_poll","setPoll","questions","setQuestions","participants","setParticipants","quiz","setQuiz","quiz_scores","locations","setLocations","branding","setBranding","catch","err","error","onmessage","event","JSON","parse","type","payload","names","triggerReaction","emoji","scores","target_name","alert","close","push","warn","e","onclose","code","window","location","pathname","includes","setTimeout","onerror"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/AIQuizCreator.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\ninterface AIQuizCreatorProps {\r\n  sessionCode: string;\r\n  onClose: () => void;\r\n}\r\n\r\nexport default function AIQuizCreator({ sessionCode, onClose }: AIQuizCreatorProps) {\r\n  const [topic, setTopic] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const handleGenerate = async () => {\r\n    if (!topic.trim()) return;\r\n    setIsLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      // 1. Call the AI Endpoint\r\n      const res = await fetch(\"http://localhost:8001/api/ai/generate-quiz\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ topic, num_questions: 5 }),\r\n      });\r\n\r\n      if (!res.ok) throw new Error(\"AI failed to generate quiz\");\r\n      const data = await res.json();\r\n\r\n      // 2. Automatically Start the Quiz with Generated Data\r\n      const startRes = await fetch(`http://localhost:8001/api/session/${sessionCode}/quiz/start`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({\r\n          title: `Quiz: ${topic}`,\r\n          questions: data.questions\r\n        }),\r\n      });\r\n\r\n      if (startRes.ok) {\r\n        onClose(); // Close modal on success\r\n      } else {\r\n        throw new Error(\"Failed to start quiz session\");\r\n      }\r\n\r\n    } catch (err) {\r\n      setError(\"Something went wrong. Try a different topic.\");\r\n      console.error(err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\r\n      <div className=\"bg-slate-900 w-full max-w-md p-6 rounded-2xl border border-slate-700 shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n        <div className=\"flex justify-between items-center mb-6\">\r\n          <h2 className=\"text-xl font-bold bg-linear-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent\">\r\n            âœ¨ AI Quiz Generator\r\n          </h2>\r\n          <button onClick={onClose} className=\"text-slate-400 hover:text-white\">âœ•</button>\r\n        </div>\r\n\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label className=\"block text-sm font-medium text-slate-400 mb-1\">\r\n              What is the quiz about?\r\n            </label>\r\n            <input\r\n              autoFocus\r\n              className=\"w-full bg-slate-800 border border-slate-700 rounded-xl p-4 text-white placeholder-slate-500 focus:ring-2 focus:ring-purple-500 outline-none transition\"\r\n              placeholder=\"e.g. Python Basics, 90s Pop Music, Solar System\"\r\n              value={topic}\r\n              onChange={(e) => setTopic(e.target.value)}\r\n              onKeyDown={(e) => e.key === \"Enter\" && handleGenerate()}\r\n            />\r\n          </div>\r\n\r\n          {error && (\r\n            <p className=\"text-red-400 text-sm bg-red-400/10 p-3 rounded-lg\">{error}</p>\r\n          )}\r\n\r\n          <button\r\n            onClick={handleGenerate}\r\n            disabled={isLoading || !topic.trim()}\r\n            className=\"w-full bg-linear-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-4 rounded-xl transition disabled:opacity-50 flex items-center justify-center gap-2\"\r\n          >\r\n            {isLoading ? (\r\n              <>\r\n                <span className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                Generating Magic...\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span>ðŸš€</span> Generate & Launch\r\n              </>\r\n            )}\r\n          </button>\r\n          \r\n          <p className=\"text-xs text-center text-slate-500\">\r\n            Powered by Google Gemini 1.5 Flash\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useState","AIQuizCreatorProps","sessionCode","onClose","AIQuizCreator","topic","setTopic","isLoading","setIsLoading","error","setError","handleGenerate","trim","res","fetch","method","headers","body","JSON","stringify","num_questions","ok","Error","data","json","startRes","title","questions","err","console","e","target","value","key"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 420, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/CreatePollForm.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\n// PATCH: Define strict types to eliminate 'any' linting errors\r\ntype PollType = \"multiple_choice\" | \"rating\" | \"word_cloud\" | \"open_ended\";\r\n\r\ninterface PollPayload {\r\n  question: string;\r\n  type: PollType;\r\n  options?: string[];\r\n}\r\n\r\ninterface PollTypeOption {\r\n  id: PollType;\r\n  label: string;\r\n}\r\n\r\nconst POLL_TYPES: PollTypeOption[] = [\r\n  { id: \"multiple_choice\", label: \"ðŸ“Š Poll\" },\r\n  { id: \"rating\", label: \"â­ Rating\" },\r\n  { id: \"word_cloud\", label: \"â˜ï¸ Words\" },\r\n  { id: \"open_ended\", label: \"ðŸ’­ Thoughts\" }\r\n];\r\n\r\nexport default function CreatePollForm({ sessionCode, onClose }: { sessionCode: string; onClose: () => void }) {\r\n  const [question, setQuestion] = useState(\"\");\r\n  const [type, setType] = useState<PollType>(\"multiple_choice\");\r\n  const [options, setOptions] = useState<string[]>([\"\", \"\"]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async () => {\r\n    if (!question.trim()) return;\r\n\r\n    // PATCH: Construct payload with strict typing\r\n    const payload: PollPayload = { question, type };\r\n\r\n    if (type === \"multiple_choice\") {\r\n       // Filter out empty options\r\n       const cleanOptions = options.map(o => o.trim()).filter(o => o !== \"\");\r\n       if (cleanOptions.length < 2) {\r\n         alert(\"Please add at least 2 valid options.\");\r\n         return;\r\n       }\r\n       payload.options = cleanOptions;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n        const res = await fetch(`http://localhost:8001/api/session/${sessionCode}/poll/start`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify(payload)\r\n        });\r\n\r\n        if (!res.ok) throw new Error(\"Backend refused connection\");\r\n        \r\n        onClose();\r\n    } catch (error) {\r\n        console.error(error);\r\n        alert(\"Failed to start poll. Is the backend running?\");\r\n    } finally {\r\n        setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleOptionChange = (index: number, value: string) => {\r\n    const newOpts = [...options];\r\n    newOpts[index] = value;\r\n    setOptions(newOpts);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\r\n      <div className=\"bg-slate-900 border border-slate-700 p-6 rounded-2xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200\">\r\n        <h2 className=\"text-xl font-bold mb-4 text-white\">Launch Widget</h2>\r\n\r\n        {/* Type Selector Grid */}\r\n        <div className=\"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4\">\r\n            {POLL_TYPES.map((t) => (\r\n                <button\r\n                    key={t.id}\r\n                    onClick={() => setType(t.id)}\r\n                    className={`py-2 text-sm rounded-lg border font-medium transition-all ${\r\n                        type === t.id \r\n                        ? \"bg-blue-600 border-blue-500 text-white shadow-lg shadow-blue-900/50\" \r\n                        : \"bg-slate-800 border-slate-700 text-slate-400 hover:bg-slate-700 hover:text-white\"\r\n                    }`}\r\n                >\r\n                    {t.label}\r\n                </button>\r\n            ))}\r\n        </div>\r\n        \r\n        <input \r\n          autoFocus\r\n          className=\"w-full bg-slate-800 border border-slate-700 p-3 rounded-lg mb-4 text-white placeholder-slate-500 focus:ring-2 focus:ring-blue-500 outline-none transition\"\r\n          placeholder=\"Ask a question...\"\r\n          value={question}\r\n          onChange={(e) => setQuestion(e.target.value)}\r\n          onKeyDown={(e) => e.key === 'Enter' && type !== 'multiple_choice' && handleSubmit()}\r\n        />\r\n\r\n        {/* Dynamic Inputs based on Type */}\r\n        {type === \"multiple_choice\" && (\r\n          <div className=\"space-y-2 mb-4 max-h-50 overflow-y-auto pr-1 custom-scrollbar\">\r\n            {options.map((opt, idx) => (\r\n               <input\r\n                 key={idx}\r\n                 className=\"w-full bg-slate-800/50 border border-slate-700 p-2 rounded text-sm text-white focus:border-blue-500 outline-none\"\r\n                 placeholder={`Option ${idx + 1}`}\r\n                 value={opt}\r\n                 onChange={(e) => handleOptionChange(idx, e.target.value)}\r\n               />\r\n            ))}\r\n            <button \r\n                onClick={() => setOptions([...options, \"\"])} \r\n                className=\"text-xs text-blue-400 hover:text-blue-300 font-bold transition\"\r\n            >\r\n                + Add Option\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {/* Helper Text for other types */}\r\n        {type === \"rating\" && (\r\n            <div className=\"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg text-center text-slate-400 text-sm mb-4\">\r\n                Participants will vote using a 5-star scale.\r\n            </div>\r\n        )}\r\n\r\n        {type === \"word_cloud\" && (\r\n            <div className=\"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg text-center text-slate-400 text-sm mb-4\">\r\n                Participants will submit words to build a cloud.\r\n            </div>\r\n        )}\r\n\r\n        {type === \"open_ended\" && (\r\n            <div className=\"p-4 bg-slate-800/50 border border-slate-700/50 rounded-lg text-center text-slate-400 text-sm mb-4\">\r\n                Participants will share thoughts that float up the screen as bubbles.\r\n            </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-3 mt-6\">\r\n          <button onClick={onClose} className=\"flex-1 py-3 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition\">Cancel</button>\r\n          <button \r\n            onClick={handleSubmit} \r\n            disabled={loading || !question.trim()} \r\n            className=\"flex-1 py-3 bg-linear-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold rounded-lg shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all transform active:scale-95\"\r\n          >\r\n            {loading ? \"Launching...\" : \"Launch ðŸš€\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useState","PollType","PollPayload","question","type","options","PollTypeOption","id","label","POLL_TYPES","CreatePollForm","sessionCode","onClose","setQuestion","setType","setOptions","loading","setLoading","handleSubmit","trim","payload","cleanOptions","map","o","filter","length","alert","res","fetch","method","headers","body","JSON","stringify","ok","Error","error","console","handleOptionChange","index","value","newOpts","t","e","target","key","opt","idx"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 645, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/WinningWheel.tsx"],"sourcesContent":["\"use client\";\r\nimport { useState} from \"react\";\r\n\r\nexport default function WinningWheel({ \r\n  participants, \r\n  onClose \r\n}: { \r\n  participants: string[]; \r\n  onClose: () => void \r\n}) {\r\n  const [spinning, setSpinning] = useState(false);\r\n  const [winner, setWinner] = useState<string | null>(null);\r\n  const [currentName, setCurrentName] = useState(\"Ready?\");\r\n\r\n  const handleSpin = () => {\r\n    if (participants.length === 0) return;\r\n    setSpinning(true);\r\n    setWinner(null);\r\n\r\n    let counter = 0;\r\n    // Fast shuffle effect\r\n    const interval = setInterval(() => {\r\n        setCurrentName(participants[Math.floor(Math.random() * participants.length)]);\r\n        counter++;\r\n        if (counter > 20) {\r\n            clearInterval(interval);\r\n            // Pick Winner\r\n            const finalWinner = participants[Math.floor(Math.random() * participants.length)];\r\n            setWinner(finalWinner);\r\n            setCurrentName(finalWinner);\r\n            setSpinning(false);\r\n        }\r\n    }, 100);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-6\">\r\n      <div className=\"relative w-full max-w-2xl bg-slate-900 border border-slate-700 rounded-3xl p-12 text-center shadow-2xl overflow-hidden\">\r\n        \r\n        {/* Background Effects */}\r\n        <div className=\"absolute inset-0 bg-linear-to-br from-purple-900/20 to-blue-900/20\" />\r\n        \r\n        <h2 className=\"text-2xl font-bold text-slate-400 mb-8 uppercase tracking-widest relative z-10\">\r\n            Picking a Winner\r\n        </h2>\r\n\r\n        {/* The \"Wheel\" Display */}\r\n        <div className=\"h-40 flex items-center justify-center mb-8 relative z-10\">\r\n            <div className={`text-6xl sm:text-7xl font-black bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-400 transition-all ${winner ? \"scale-125 animate-bounce\" : \"\"}`}>\r\n                {participants.length > 0 ? currentName : \"No Participants Yet\"}\r\n            </div>\r\n        </div>\r\n\r\n        {winner && (\r\n            <div className=\"text-xl text-yellow-400 font-bold mb-8 animate-pulse relative z-10\">\r\n                ðŸŽ‰ WINNER! ðŸŽ‰\r\n            </div>\r\n        )}\r\n\r\n        <div className=\"flex gap-4 justify-center relative z-10\">\r\n            <button \r\n                onClick={onClose}\r\n                className=\"px-6 py-3 rounded-xl font-bold text-slate-400 hover:bg-slate-800 transition\"\r\n            >\r\n                Close\r\n            </button>\r\n            <button \r\n                onClick={handleSpin}\r\n                disabled={spinning || participants.length === 0}\r\n                className=\"px-8 py-3 bg-linear-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold rounded-xl shadow-lg transform transition active:scale-95 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n                {spinning ? \"Spinning...\" : winner ? \"Spin Again\" : \"Spin Wheel ðŸŽ²\"}\r\n            </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useState","WinningWheel","participants","onClose","spinning","setSpinning","winner","setWinner","currentName","setCurrentName","handleSpin","length","counter","interval","setInterval","Math","floor","random","clearInterval","finalWinner"],"mappings":";;;;;AACA,SAASA,QAAQ,QAAO,OAAO;;;AAD/B,YAAY;;AAGG,sBAAsB,EACnCE,YAAY,EACZC,OAAAA,EAID,EAAE;;IACD,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,OAAGL,yKAAQ,EAAC,KAAK,CAAC;IAC/C,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,OAAGP,yKAAQ,CAAC,CAAe,IAAI,CAAb,AAAc,GAAX,IAAI,CAAC;IACnD,MAAM,CAACQ,WAAW,EAAEC,cAAc,CAAC,OAAGT,yKAAQ,EAAC,QAAQ,CAAC;IAExD,MAAMU,UAAU,GAAGA,CAAA,KAAM;QACvB,IAAIR,YAAY,CAACS,MAAM,KAAK,CAAC,EAAE;QAC/BN,WAAW,CAAC,IAAI,CAAC;QACjBE,SAAS,CAAC,IAAI,CAAC;QAEf,IAAIK,OAAO,GAAG,CAAC;QACf,sBAAA;QACA,MAAMC,QAAQ,GAAGC,WAAW,CAAC,MAAM;YAC/BL,cAAc,CAACP,YAAY,CAACa,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGf,YAAY,CAACS,MAAM,CAAC,CAAC,CAAC;YAC7EC,OAAO,EAAE;YACT,IAAIA,OAAO,GAAG,EAAE,EAAE;gBACdM,aAAa,CAACL,QAAQ,CAAC;gBACvB,cAAA;gBACA,MAAMM,WAAW,GAAGjB,YAAY,CAACa,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGf,YAAY,CAACS,MAAM,CAAC,CAAC;gBACjFJ,SAAS,CAACY,WAAW,CAAC;gBACtBV,cAAc,CAACU,WAAW,CAAC;gBAC3Bd,WAAW,CAAC,KAAK,CAAC;YACtB;QACJ,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IAED,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,qEAAqE,CAAC;gCACnF,6LAAC,GAAG;YAAC,SAAS,EAAC,wHAAwH,CAAC;;8BAGtI,6LAAC,GAAG;oBAAC,SAAS,EAAC,oEAAoE,GAAG;;;;;;8BAEtF,6LAAC,EAAE;oBAAC,SAAS,EAAC,gFAAgF;8BAAC;;;;;;8BAK/F,6LAAC,GAAG;oBAAC,SAAS,EAAC,0DAA0D,CAAC;4CACtE,6LAAC,GAAG;wBAAC,SAAS,CAAC,CAAC,CAAA,wHAAA,EAA2HC,MAAM,GAAG,0BAA0B,GAAG,EAAE,EAAE,CAAC,CAAC;kCAClLJ,YAAY,CAACS,MAAM,GAAG,CAAC,GAAGH,WAAW,GAAG,qBAAqB,CAAC;;;;;;;;;;;gBAItEF,MAAM,kBACH,6LAAC,GAAG;oBAAC,SAAS,EAAC,oEAAoE;8BAAC;;;;;;8BAKxF,6LAAC,GAAG;oBAAC,SAAS,EAAC,yCAAyC,CAAC;;sCACrD,6LAAC,MAAM;4BACH,OAAO,CAAC,CAACH,OAAO,CAAC;4BACjB,SAAS,EAAC,6EAA6E;sCAC1F;;;;;;sCAGD,6LAAC,MAAM;4BACH,OAAO,CAAC,CAACO,UAAU,CAAC;4BACpB,QAAQ,CAAC,CAACN,QAAQ,IAAIF,YAAY,CAACS,MAAM,KAAK,CAAC,CAAC;4BAChD,SAAS,EAAC,6NAA6N,CAC1O;sCACIP,QAAQ,GAAG,aAAa,GAAGE,MAAM,GAAG,YAAY,GAAG,eAAe,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAMpF;;KA1EwBL,YAAYA","ignoreList":[]}},
    {"offset": {"line": 773, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/QuizCreator.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\n\r\n// PATCH: Strict types to eliminate 'any'\r\ninterface Question {\r\n  id: string;\r\n  text: string;\r\n  options: string[];\r\n  correct_index: number;\r\n  time_limit: number;\r\n}\r\n\r\nexport default function QuizCreator({ sessionCode, onClose }: { sessionCode: string; onClose: () => void }) {\r\n  const [title, setTitle] = useState(\"Fun Quiz\");\r\n  const [questions, setQuestions] = useState<Question[]>([\r\n    { id: \"1\", text: \"\", options: [\"\", \"\", \"\", \"\"], correct_index: 0, time_limit: 30 }\r\n  ]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  // PATCH: Typed helper to update question fields safely\r\n  const updateQuestion = <K extends keyof Question>(idx: number, field: K, value: Question[K]) => {\r\n    const newQs = [...questions];\r\n    newQs[idx][field] = value;\r\n    setQuestions(newQs);\r\n  };\r\n\r\n  const updateOption = (qIdx: number, oIdx: number, val: string) => {\r\n    const newQs = [...questions];\r\n    // Create a new array for options to ensure React detects the change\r\n    const newOptions = [...newQs[qIdx].options];\r\n    newOptions[oIdx] = val;\r\n    newQs[qIdx].options = newOptions;\r\n    setQuestions(newQs);\r\n  };\r\n\r\n  const handleLaunch = async () => {\r\n    // Basic validation\r\n    if (questions.some(q => !q.text.trim() || q.options.some(o => !o.trim()))) {\r\n       alert(\"Please fill in all questions and options.\");\r\n       return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n        await fetch(`http://localhost:8001/api/session/${sessionCode}/quiz/start`, {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ title, questions })\r\n        });\r\n        onClose();\r\n    } catch (error) {\r\n        console.error(error);\r\n        alert(\"Failed to start quiz.\");\r\n    } finally {\r\n        setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 overflow-y-auto\">\r\n      <div className=\"bg-slate-900 w-full max-w-2xl p-6 rounded-2xl border border-slate-700 animate-in fade-in zoom-in duration-200\">\r\n        <h2 className=\"text-2xl font-bold mb-4 text-white\">Create Quiz</h2>\r\n        \r\n        <input \r\n            aria-label=\"Quiz Title\"\r\n            className=\"w-full bg-slate-800 p-2 rounded mb-4 text-white border border-slate-700 focus:border-blue-500 outline-none transition\" \r\n            value={title} \r\n            onChange={e => setTitle(e.target.value)} \r\n            placeholder=\"Enter Quiz Title...\"\r\n        />\r\n        \r\n        <div className=\"space-y-6 max-h-[50vh] overflow-y-auto mb-4 pr-2 custom-scrollbar\">\r\n            {questions.map((q, qIdx) => (\r\n                <div key={q.id} className=\"p-4 bg-slate-800 rounded-xl border border-slate-700\">\r\n                    <div className=\"flex justify-between mb-2\">\r\n                        <span className=\"font-bold text-slate-300\">Question {qIdx + 1}</span>\r\n                        \r\n                        <select \r\n                            aria-label=\"Time limit per question\"\r\n                            className=\"bg-slate-700 rounded px-2 py-1 text-sm outline-none focus:ring-1 focus:ring-blue-500 text-white\"\r\n                            value={q.time_limit}\r\n                            onChange={(e) => updateQuestion(qIdx, \"time_limit\", parseInt(e.target.value))}\r\n                        >\r\n                            <option value={10}>10s</option>\r\n                            <option value={20}>20s</option>\r\n                            <option value={30}>30s</option>\r\n                            <option value={60}>60s</option>\r\n                        </select>\r\n                    </div>\r\n                    \r\n                    <input \r\n                        aria-label={`Question ${qIdx + 1} text`}\r\n                        className=\"w-full bg-slate-700 p-2 rounded mb-3 text-white placeholder-slate-400 outline-none focus:ring-1 focus:ring-blue-500 transition\" \r\n                        placeholder=\"e.g. What is the capital of France?\"\r\n                        value={q.text}\r\n                        onChange={(e) => updateQuestion(qIdx, \"text\", e.target.value)}\r\n                    />\r\n                    \r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                        {q.options.map((opt, oIdx) => (\r\n                            <div key={oIdx} className=\"flex items-center gap-2\">\r\n                                <input \r\n                                    type=\"radio\" \r\n                                    name={`correct-${q.id}`} \r\n                                    aria-label={`Mark option ${oIdx + 1} as correct`}\r\n                                    checked={q.correct_index === oIdx}\r\n                                    onChange={() => updateQuestion(qIdx, \"correct_index\", oIdx)}\r\n                                    className=\"accent-green-500 w-4 h-4 cursor-pointer\"\r\n                                />\r\n                                \r\n                                <input \r\n                                    aria-label={`Option ${oIdx + 1} text`}\r\n                                    className=\"w-full bg-slate-700 p-2 rounded text-sm text-white placeholder-slate-400 outline-none focus:ring-1 focus:ring-blue-500 transition\"\r\n                                    placeholder={`Option ${oIdx + 1}`}\r\n                                    value={opt}\r\n                                    onChange={(e) => updateOption(qIdx, oIdx, e.target.value)}\r\n                                />\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            ))}\r\n        </div>\r\n        \r\n        <button \r\n            onClick={() => setQuestions([...questions, { id: Date.now().toString(), text: \"\", options: [\"\", \"\", \"\", \"\"], correct_index: 0, time_limit: 30 }])} \r\n            className=\"text-blue-400 text-sm mb-6 hover:underline font-bold\"\r\n        >\r\n            + Add Question\r\n        </button>\r\n\r\n        <div className=\"flex gap-4\">\r\n            <button onClick={onClose} className=\"flex-1 py-3 bg-slate-800 rounded hover:bg-slate-700 text-slate-300 transition\">Cancel</button>\r\n            <button \r\n                onClick={handleLaunch} \r\n                disabled={loading} \r\n                className=\"flex-1 py-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded transition disabled:opacity-50 flex justify-center items-center gap-2\"\r\n            >\r\n                {loading ? (\r\n                    <>\r\n                       <span className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\"></span>\r\n                       Starting...\r\n                    </>\r\n                ) : \"Launch Quiz\"}\r\n            </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["useState","Question","id","text","options","correct_index","time_limit","QuizCreator","sessionCode","onClose","title","setTitle","questions","setQuestions","loading","setLoading","updateQuestion","idx","field","K","value","newQs","updateOption","qIdx","oIdx","val","newOptions","handleLaunch","some","q","trim","o","alert","fetch","method","headers","body","JSON","stringify","error","console","e","target","map","parseInt","opt","Date","now","toString"],"mappings":";;;;;AAEA,SAASA,QAAQ,QAAQ,OAAO;;;AAFhC,YAAY;;AAaG,qBAAqB,EAAEQ,WAAW,EAAEC,OAAAA,EAAuD,EAAE;;IAC1G,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,OAAGX,yKAAQ,EAAC,UAAU,CAAC;IAC9C,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,OAAGb,yKAAQ,CAACC,CAAY,OAAJ,EAAE,CAAC;QACpD;YAAEC,EAAE,EAAE,GAAG;YAAEC,IAAI,EAAE,EAAE;YAAEC,OAAO,EAAE;gBAAC,EAAE;gBAAE,EAAE;gBAAE,EAAE;gBAAE,EAAE;aAAC;YAAEC,aAAa,EAAE,CAAC;YAAEC,UAAU,EAAE;QAAG,CAAC;KACnF,CAAC;IACF,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,OAAGf,yKAAQ,EAAC,KAAK,CAAC;IAE7C,uDAAA;IACA,MAAMgB,cAAc,GAAG,CAA2BC,AAA1B,GAA6B,EAAE,AAAQC,KAAK,AAAlC,CAA2B,CAASC,AAAGC,CAAF,GAA/BnB,CAAsC,EAAEA,KAAhC,EAACe,CAAuC,CAACG,CAAC,CAAC,KAAK;QAC9F,MAAME,KAAK,GAAG,CAAC;eAAGT,SAAS;SAAC;QAC5BS,KAAK,CAACJ,GAAG,CAAC,CAACC,KAAK,CAAC,GAAGE,KAAK;QACzBP,YAAY,CAACQ,KAAK,CAAC;IACrB,CAAC;IAED,MAAMC,YAAY,GAAGA,CAACC,IAAI,EAAE,AAAQC,IAAI,EAAN,AAAQ,AAAQC,GAAG,EAAE,CAAP,KAAa,KAAK;QAChE,MAAMJ,OAAK,GAAG,CAAC;eAAGT,SAAS;SAAC;QAC5B,oEAAA;QACA,MAAMc,UAAU,GAAG,CAAC;eAAGL,OAAK,CAACE,IAAI,CAAC,CAACnB,OAAO;SAAC;QAC3CsB,UAAU,CAACF,IAAI,CAAC,GAAGC,GAAG;QACtBJ,OAAK,CAACE,IAAI,CAAC,CAACnB,OAAO,GAAGsB,UAAU;QAChCb,YAAY,CAACQ,OAAK,CAAC;IACrB,CAAC;IAED,MAAMM,YAAY,GAAG,MAAAA,CAAA,KAAY;QAC/B,mBAAA;QACA,IAAIf,SAAS,CAACgB,IAAI,EAACC,CAAC,GAAI,CAACA,CAAC,CAAC1B,IAAI,CAAC2B,IAAI,CAAC,CAAC,IAAID,CAAC,CAACzB,OAAO,CAACwB,IAAI,EAACG,CAAC,GAAI,CAACA,CAAC,CAACD,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE;YACxEE,KAAK,CAAC,2CAA2C,CAAC;YAClD;QACH;QAEAjB,UAAU,CAAC,IAAI,CAAC;QAChB,IAAI;YACA,MAAMkB,KAAK,CAAC,CAAA,kCAAA,EAAqCzB,WAAW,CAAA,WAAA,CAAa,EAAE;gBACvE0B,MAAM,EAAE,MAAM;gBACdC,OAAO,EAAE;oBAAE,cAAc,EAAE;gBAAmB,CAAC;gBAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;oBAAE5B,KAAK;oBAAEE;gBAAU,CAAC;YAC7C,CAAC,CAAC;YACFH,OAAO,CAAC,CAAC;QACb,CAAC,CAAC,OAAO8B,KAAK,EAAE;YACZC,OAAO,CAACD,KAAK,CAACA,KAAK,CAAC;YACpBP,KAAK,CAAC,uBAAuB,CAAC;QAClC,CAAC,QAAS;YACNjB,UAAU,CAAC,KAAK,CAAC;QACrB;IACF,CAAC;IAED,qBACE,6LAAC,GAAG;QAAC,SAAS,EAAC,qFAAqF,CAAC;gCACnG,6LAAC,GAAG;YAAC,SAAS,EAAC,+GAA+G,CAAC;;8BAC7H,6LAAC,EAAE;oBAAC,SAAS,EAAC,oCAAoC;8BAAC,WAAW,EAAE,EAAE,CAAC;;;;;;8BAEnE,6LAAC,KAAK;oBACF,UAAU,IAAC,YAAY;oBACvB,SAAS,EAAC,uHAAuH;oBACjI,KAAK,CAAC,CAACL,KAAK,CAAC;oBACb,QAAQ,CAAC,EAAC+B,CAAC,GAAI9B,QAAQ,CAAC8B,CAAC,CAACC,MAAM,CAACtB,KAAK,CAAC,CAAC;oBACxC,WAAW,EAAC,qBAAqB,GACnC;;;;;;8BAEF,6LAAC,GAAG;oBAAC,SAAS,EAAC,mEAAmE,CAAC;8BAC9ER,SAAS,CAAC+B,GAAG,CAAC,CAACd,GAAC,EAAEN,MAAI,iBACnB,6LAAC,GAAG,CAAC,GAAG,CAAC;4BAAO,SAAS,EAAC,qDAAqD,CAAC;;8CAC5E,6LAAC,GAAG;oCAAC,SAAS,EAAC,2BAA2B,CAAC;;sDACvC,6LAAC,IAAI;4CAAC,SAAS,EAAC,0BAA0B;;gDAAC,SAAS;gDAACA,MAAI,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;;;;;;;sDAErE,6LAAC,MAAM;4CACH,UAAU,IAAC,yBAAyB;4CACpC,SAAS,EAAC,iGAAiG;4CAC3G,KAAK,CAAC,CAACM,GAAC,CAACvB,UAAU,CAAC;4CACpB,QAAQ,CAAC,EAAEmC,GAAC,GAAKzB,cAAc,CAACO,MAAI,EAAE,YAAY,EAAEqB,QAAQ,CAACH,GAAC,CAACC,MAAM,CAACtB,KAAK,CAAC,CAAC,CAAC,CACjF;;8DACG,6LAAC,MAAM;oDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;8DAAC,GAAG,EAAE,MAAM,CAAC;;;;;;8DAC/B,6LAAC,MAAM;oDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;8DAAC,GAAG,EAAE,MAAM,CAAC;;;;;;8DAC/B,6LAAC,MAAM;oDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;8DAAC,GAAG,EAAE,MAAM,CAAC;;;;;;8DAC/B,6LAAC,MAAM;oDAAC,KAAK,CAAC,CAAC,EAAE,CAAC;8DAAC,GAAG,EAAE,MAAM,CAAC;;;;;;;;;;;;;;;;;;8CAIvC,6LAAC,KAAK;oCACF,UAAU,CAAC,GAAC,CAAA,SAAA,EAAYG,MAAI,GAAG,CAAC,CAAA,KAAA,CAAO,CAAC;oCACxC,SAAS,EAAC,gIAAgI;oCAC1I,WAAW,EAAC,qCAAqC;oCACjD,KAAK,CAAC,CAACM,GAAC,CAAC1B,IAAI,CAAC;oCACd,QAAQ,CAAC,EAAEsC,GAAC,GAAKzB,cAAc,CAACO,MAAI,EAAE,MAAM,EAAEkB,GAAC,CAACC,MAAM,CAACtB,KAAK,CAAC,CAAC,GAChE;;;;;;8CAEF,6LAAC,GAAG;oCAAC,SAAS,EAAC,wBAAwB,CAAC;8CACnCS,GAAC,CAACzB,OAAO,CAACuC,GAAG,CAAC,CAACE,GAAG,EAAErB,MAAI,iBACrB,6LAAC,GAAG,CAAC,GAAG,CAAC;4CAAO,SAAS,EAAC,yBAAyB,CAAC;;8DAChD,6LAAC,KAAK;oDACF,IAAI,EAAC,OAAO;oDACZ,IAAI,CAAC,CAAC,CAAA,QAAA,EAAWK,GAAC,CAAC3B,EAAE,EAAE,CAAC;oDACxB,UAAU,CAAC,GAAC,CAAA,YAAA,EAAesB,MAAI,GAAG,CAAC,CAAA,WAAA,CAAa,CAAC;oDACjD,OAAO,CAAC,CAACK,GAAC,CAACxB,aAAa,KAAKmB,MAAI,CAAC;oDAClC,QAAQ,CAAC,CAAC,IAAMR,cAAc,CAACO,MAAI,EAAE,eAAe,EAAEC,MAAI,CAAC,CAAC;oDAC5D,SAAS,EAAC,yCAAyC,GACrD;;;;;;8DAEF,6LAAC,KAAK;oDACF,UAAU,CAAC,GAAC,CAAA,OAAA,EAAUA,MAAI,GAAG,CAAC,CAAA,KAAA,CAAO,CAAC;oDACtC,SAAS,EAAC,mIAAmI;oDAC7I,WAAW,CAAC,CAAC,CAAA,OAAA,EAAUA,MAAI,GAAG,CAAC,EAAE,CAAC;oDAClC,KAAK,CAAC,CAACqB,GAAG,CAAC;oDACX,QAAQ,CAAC,EAAEJ,GAAC,GAAKnB,YAAY,CAACC,MAAI,EAAEC,MAAI,EAAEiB,GAAC,CAACC,MAAM,CAACtB,KAAK,CAAC,CAAC,GAC5D;;;;;;;2CAhBII,MAAI,CAAC;;;;;;;;;;;2BA3BjBK,GAAC,CAAC3B,EAAE,CAAC;;;;;;;;;;8BAmDvB,6LAAC,MAAM;oBACH,OAAO,CAAC,CAAC,IAAMW,YAAY,CAAC,CAAC;+BAAGD,SAAS;4BAAE;gCAAEV,EAAE,EAAE4C,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;gCAAE7C,IAAI,EAAE,EAAE;gCAAEC,OAAO,EAAE;oCAAC,EAAE;oCAAE,EAAE;oCAAE,EAAE;oCAAE,EAAE;iCAAC;gCAAEC,aAAa,EAAE,CAAC;gCAAEC,UAAU,EAAE;4BAAG,CAAC;yBAAC,CAAC,CAAC;oBAClJ,SAAS,EAAC,sDAAsD;8BACnE;;;;;;8BAID,6LAAC,GAAG;oBAAC,SAAS,EAAC,YAAY,CAAC;;sCACxB,6LAAC,MAAM;4BAAC,OAAO,CAAC,CAACG,OAAO,CAAC;4BAAC,SAAS,EAAC,+EAA+E;sCAAC,MAAM,EAAE,MAAM,CAAC;;;;;;sCACnI,6LAAC,MAAM;4BACH,OAAO,CAAC,CAACkB,YAAY,CAAC;4BACtB,QAAQ,CAAC,CAACb,OAAO,CAAC;4BAClB,SAAS,EAAC,gJAAgJ,CAC7J;sCACIA,OAAO,iBACJ,EAAE;;kDACC,6LAAC,IAAI;wCAAC,SAAS,EAAC,2EAA2E,CAAC,EAAE,IAAI;;;;;;oCAAC;;+CAGtG,aAAa,CAAC;;;;;;;;;;;;;;;;;;;;;;;AAMlC;;KAzIwBP,WAAWA","ignoreList":[]}},
    {"offset": {"line": 1086, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/MagicMap.tsx"],"sourcesContent":["\"use client\";\r\nimport Image from \"next/image\";\r\nimport { useSessionStore } from \"@/store/sessionStore\";\r\n\r\nexport default function MagicMap({ onClose }: { onClose: () => void }) {\r\n  const { locations } = useSessionStore();\r\n\r\n  // Simple Mercator projection approximation for a standard world map SVG\r\n  const getXY = (lat: number, lng: number) => {\r\n    const x = (lng + 180) * (100 / 360);\r\n    const y = ((-lat + 90) * (100 / 180)); \r\n    return { x, y };\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-slate-950 z-50 flex flex-col\">\r\n      {/* Header */}\r\n      <div className=\"p-6 flex justify-between items-center border-b border-slate-800 bg-slate-900\">\r\n        <h2 className=\"text-2xl font-bold bg-clip-text text-transparent bg-linear-to-r from-blue-400 to-purple-500\">\r\n            ðŸŒ Magic Map: Live Audience\r\n        </h2>\r\n        <button onClick={onClose} className=\"px-4 py-2 bg-slate-800 rounded hover:bg-slate-700 text-white\">Close Map</button>\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      <div className=\"flex-1 relative bg-[#0a0f1c] flex items-center justify-center overflow-hidden p-10\">\r\n        \r\n        {/* World Map SVG Background (Public Domain) */}\r\n        <div className=\"relative w-full max-w-6xl aspect-2/1\">\r\n            <Image \r\n                src=\"https://upload.wikimedia.org/wikipedia/commons/2/23/Blue_Marble_2002.png\" \r\n                alt=\"World Map\" \r\n                fill\r\n                className=\"w-full h-full object-cover rounded-2xl opacity-50 shadow-2xl\"\r\n            />\r\n\r\n            {/* Render Dots */}\r\n            {locations.map((loc, i) => {\r\n                const { x, y } = getXY(loc.lat, loc.lng);\r\n                return (\r\n                    <div \r\n                        key={i}\r\n                        className=\"absolute w-4 h-4 bg-green-500 rounded-full shadow-[0_0_10px_#4ade80] border-2 border-white transform -translate-x-1/2 -translate-y-1/2 animate-pulse group cursor-pointer\"\r\n                        style={{ left: `${x}%`, top: `${y}%` }}\r\n                    >\r\n                        {/* Tooltip */}\r\n                        <div className=\"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-white text-black text-xs font-bold rounded opacity-0 group-hover:opacity-100 transition whitespace-nowrap pointer-events-none\">\r\n                            {loc.name} ({loc.city})\r\n                        </div>\r\n                    </div>\r\n                );\r\n            })}\r\n        </div>\r\n      </div>\r\n      \r\n      {/* Footer Stats */}\r\n      <div className=\"p-6 bg-slate-900 border-t border-slate-800 flex gap-6 text-slate-400 text-sm\">\r\n          <span>ðŸ“ {locations.length} Active Users</span>\r\n          <span>ðŸŒ {new Set(locations.map(l => l.city)).size} Cities</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["c","_c","Image","useSessionStore","MagicMap","t0","$","$i","Symbol","for","onClose","locations","getXY","_MagicMapGetXY","t1","t2","t3","t4","t5","MagicMap[locations.map()]","loc","i","x","x_0","y","y_0","lat","lng","left","top","name","city","map","t6","length","t7","Set","_MagicMapLocationsMap","t8","size","t9","t10","l"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1348, "column": 0}, "map": {"version":3,"sources":["file:///app/src/components/TransientThoughts.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState, useRef } from \"react\";\r\n\r\ninterface Bubble {\r\n  id: number;\r\n  text: string;\r\n  left: number;\r\n  speed: number;\r\n  scale: number;\r\n}\r\n\r\nexport default function TransientThoughts({ responses }: { responses: string[] }) {\r\n  const [bubbles, setBubbles] = useState<Bubble[]>([]);\r\n  \r\n  // PATCH: Tracking state to prevent render loops\r\n  const processedCount = useRef(0);\r\n  const timeoutsRef = useRef<Set<NodeJS.Timeout>>(new Set());\r\n\r\n  useEffect(() => {\r\n    // 1. Safety Check: Only proceed if new responses have arrived\r\n    if (responses.length <= processedCount.current) return;\r\n\r\n    // 2. Data Extraction\r\n    const newestText = responses[0];\r\n    const newId = Date.now();\r\n    const speed = 4 + Math.random() * 3;\r\n\r\n    const newBubble: Bubble = {\r\n      id: newId,\r\n      text: newestText,\r\n      left: Math.random() * 80 + 10,\r\n      speed: speed,\r\n      scale: Math.random() * 0.3 + 0.9\r\n    };\r\n\r\n    // 3. PATCH: Use requestAnimationFrame to prevent cascading render warnings\r\n    requestAnimationFrame(() => {\r\n      setBubbles((prev) => [...prev, newBubble]);\r\n      processedCount.current = responses.length;\r\n    });\r\n\r\n    // 4. Cleanup Timer: Fixed variable name to 'setBubbles'\r\n    const timer = setTimeout(() => {\r\n      setBubbles((prev) => prev.filter((b) => b.id !== newId));\r\n      timeoutsRef.current.delete(timer);\r\n    }, speed * 1000);\r\n\r\n    timeoutsRef.current.add(timer);\r\n\r\n    // 5. PATCH: Capture the current ref value for stable cleanup\r\n    const activeTimeouts = timeoutsRef.current;\r\n    return () => {\r\n      activeTimeouts.forEach(clearTimeout);\r\n      activeTimeouts.clear();\r\n    };\r\n  }, [responses]); // Dependency on responses is sufficient with ref check\r\n\r\n  return (\r\n    <div className=\"relative w-full h-96 overflow-hidden bg-slate-900/50 rounded-xl border border-slate-700\">\r\n      <style>{`\r\n        @keyframes floatUp {\r\n          0% { transform: translateY(100%) scale(0.5); opacity: 0; }\r\n          10% { opacity: 1; transform: translateY(0) scale(1); }\r\n          90% { opacity: 1; }\r\n          100% { transform: translateY(-400px) scale(1.5); opacity: 0; }\r\n        }\r\n        .animate-float-thought {\r\n          animation-name: floatUp;\r\n          animation-timing-function: linear;\r\n          animation-fill-mode: forwards;\r\n        }\r\n      `}</style>\r\n\r\n      {bubbles.map((b) => (\r\n        <div\r\n          key={b.id}\r\n          className=\"absolute bottom-0 px-6 py-3 bg-linear-to-r from-blue-600 to-purple-600 rounded-full text-white font-bold shadow-lg animate-float-thought whitespace-nowrap z-10\"\r\n          style={{\r\n            left: `${b.left}%`,\r\n            animationDuration: `${b.speed}s`,\r\n            transform: `scale(${b.scale})`\r\n          }}\r\n        >\r\n          {b.text}\r\n        </div>\r\n      ))}\r\n      \r\n      {responses.length === 0 && bubbles.length === 0 && (\r\n        <div className=\"absolute inset-0 flex items-center justify-center text-slate-500 italic\">\r\n          Waiting for audience thoughts...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":["c","_c","useEffect","useState","useRef","Bubble","id","text","left","speed","scale","TransientThoughts","t0","$","$i","Symbol","for","responses","t1","bubbles","setBubbles","processedCount","t2","Set","timeoutsRef","t3","length","TransientThoughts[useEffect()]","current","newestText","newId","Date","now","Math","random","newBubble","requestAnimationFrame","TransientThoughts[useEffect() > requestAnimationFrame()]","prev","timer","setTimeout","TransientThoughts[useEffect() > setTimeout()]","prev_0","filter","b","delete","add","activeTimeouts","forEach","clearTimeout","clear","t4","t5","t6","map","_TransientThoughtsBubblesMap","t7","t8","b_0","animationDuration","transform"],"mappings":"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","ignoreList":[]}},
    {"offset": {"line": 1535, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/presenter/%5Bcode%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, use } from \"react\";\r\nimport Image from \"next/image\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useSessionStore, Question } from \"@/store/sessionStore\";\r\nimport { useRealtime } from \"@/hooks/useRealtime\";\r\nimport AIQuizCreator from \"@/components/AIQuizCreator\";\r\n// --- COMPONENTS ---\r\nimport CreatePollForm from \"@/components/CreatePollForm\";\r\nimport WinningWheel from \"@/components/WinningWheel\";\r\nimport QuizCreator from \"@/components/QuizCreator\";\r\nimport MagicMap from \"@/components/MagicMap\";\r\nimport TransientThoughts from \"@/components/TransientThoughts\";\r\n\r\n// Fix Hydration Error: Load overlay only on client\r\nconst ReactionOverlay = dynamic(() => import(\"@/components/ReactionOverlay\"), { ssr: false });\r\n\r\nexport default function PresenterDashboard({ params }: { params: Promise<{ code: string }> }) {\r\n  // Unwrap params using React.use()\r\n  const { code } = use(params);\r\n  \r\n  // 1. Initialize Real-time Connection\r\n  useRealtime(code);\r\n\r\n  // Destructure State\r\n  const { \r\n    currentPoll, \r\n    questions, \r\n    isConnected, \r\n    participants, \r\n    quiz, \r\n    quizScores, \r\n    branding \r\n  } = useSessionStore();\r\n\r\n  // 2. Local View State\r\n  const [showPollForm, setShowPollForm] = useState(false);\r\n  const [showWheel, setShowWheel] = useState(false);\r\n  const [showQuizCreator, setShowQuizCreator] = useState(false);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const [viewMode, setViewMode] = useState<\"poll\" | \"qna\">(\"poll\");\r\n  const [tempLogo, setTempLogo] = useState(branding?.logo_url || \"\");\r\n  const [showAIModal, setShowAIModal] = useState(false);\r\n\r\n  // AI State\r\n  const [aiSummary, setAiSummary] = useState(\"\");\r\n  const [analyzing, setAnalyzing] = useState(false);\r\n\r\n  // --- HANDLERS ---\r\n\r\n  // 3. AI Analysis Handler\r\n  const handleAiAnalyze = async () => {\r\n    setAnalyzing(true);\r\n    setAiSummary(\"\");\r\n\r\n    let contextData: string[] = [];\r\n    if (quiz) {\r\n       contextData = [`Quiz active: ${quiz.title}`, `State: ${quiz.state}`];\r\n    } else if (currentPoll) {\r\n       if (currentPoll.type === 'open_ended') {\r\n          contextData = currentPoll.responses || [];\r\n       } else if (currentPoll.type === 'word_cloud') {\r\n          contextData = Object.keys(currentPoll.words || {});\r\n       } else {\r\n          contextData = [`Poll Question: ${currentPoll.question}`];\r\n       }\r\n    } else if (viewMode === 'qna') {\r\n       contextData = questions.map(q => q.text);\r\n    } else {\r\n       contextData = [\"No active content to analyze.\"];\r\n    }\r\n\r\n    try {\r\n      const res = await fetch(\"http://localhost:8001/api/ai/summarize\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ responses: contextData })\r\n      });\r\n      const data = await res.json();\r\n      setAiSummary(data.summary);\r\n    } catch {\r\n      alert(\"AI Failed. Check backend console.\");\r\n    } finally {\r\n      setAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  // 4. Quiz Progression Handler\r\n  const handleNextQuizStep = async () => {\r\n      await fetch(`http://localhost:8001/api/session/${code}/quiz/next`, { method: \"POST\" });\r\n  };\r\n\r\n  // 5. Export Data Handler\r\n  const handleExport = () => {\r\n    window.location.href = `http://localhost:8001/api/session/${code}/export`;\r\n  };\r\n\r\n  // 6. Moderation Handler\r\n  const handleToggleQuestion = async (qId: string) => {\r\n    await fetch(`http://localhost:8001/api/session/${code}/question/${qId}/toggle`, { method: \"POST\" });\r\n  };\r\n\r\n  // 7. Ban User Handler\r\n  const handleBanUser = async (userName: string) => {\r\n    if (!confirm(`Are you sure you want to ban ${userName}?`)) return;\r\n    await fetch(`http://localhost:8001/api/session/${code}/ban`, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ name: userName })\r\n    });\r\n  };\r\n\r\n  // 8. Save Branding Settings\r\n  const saveSettings = async () => {\r\n    await fetch(`http://localhost:8001/api/session/${code}/branding`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ logo_url: tempLogo, theme_color: branding.theme_color })\r\n    });\r\n    setShowSettings(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-950 text-white p-4 sm:p-8 transition-all relative overflow-hidden\">\r\n      \r\n      {/* Reaction Overlay Layer */}\r\n      <ReactionOverlay />\r\n\r\n      {/* HEADER */}\r\n      <header className=\"flex justify-between items-center border-b border-slate-800 pb-4 mb-6 relative z-10\">\r\n        <div className=\"flex items-center gap-3\">\r\n          {branding?.logo_url ? (\r\n            <Image src={branding.logo_url} alt=\"Logo\" width={40} height={40} className=\"object-contain rounded-lg shadow-lg\" />\r\n          ) : (\r\n            <div \r\n              className=\"w-10 h-10 rounded-lg flex items-center justify-center font-bold shadow-lg text-white\"\r\n              style={{ backgroundColor: branding?.theme_color || '#3b82f6' }}\r\n            >\r\n              FR\r\n            </div>\r\n          )}\r\n          <h1 className=\"hidden sm:block text-2xl font-bold bg-clip-text text-transparent bg-linear-to-r from-white to-slate-400\">\r\n            FlexiRush Presenter\r\n          </h1>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col items-end\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <span className={`w-2 h-2 rounded-full ${isConnected ? \"bg-green-500\" : \"bg-red-500\"} animate-pulse`} />\r\n            <span className=\"text-2xl sm:text-4xl font-mono font-bold tracking-widest text-white\">{code}</span>\r\n          </div>\r\n          <span className=\"text-[10px] sm:text-xs text-slate-500 uppercase font-bold tracking-tighter\">Join Code</span>\r\n        </div>\r\n      </header>\r\n\r\n      {/* MAIN GRID Layout */}\r\n      <main className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 relative z-10\">\r\n\r\n        {/* LEFT PANEL: Dynamic Content (Quiz OR Polls OR Q&A) */}\r\n        <div className=\"lg:col-span-2 bg-slate-900 p-4 sm:p-8 rounded-2xl border border-slate-800 min-h-125 flex flex-col shadow-2xl relative overflow-hidden\">\r\n          \r\n          {/* === A. QUIZ MODE OVERRIDE === */}\r\n          {quiz ? (\r\n             <div className=\"flex flex-col h-full items-center justify-center text-center w-full\">\r\n                 <h2 className=\"text-sm uppercase tracking-widest text-slate-400 mb-2\">{quiz.title}</h2>\r\n                 \r\n                 {quiz.state === \"LOBBY\" && (\r\n                     <div className=\"space-y-6\">\r\n                         <h1 className=\"text-4xl font-bold\">Waiting for players...</h1>\r\n                         <div className=\"text-xl text-blue-400 bg-slate-800 px-6 py-2 rounded-full inline-block\">\r\n                            {participants.length} joined\r\n                         </div>\r\n                         <div className=\"pt-4\">\r\n                            <button \r\n                                onClick={handleNextQuizStep} \r\n                                className=\"px-8 py-4 bg-green-600 hover:bg-green-500 rounded-xl font-bold text-xl shadow-lg animate-bounce transition\"\r\n                            >\r\n                                Start Game ðŸš€\r\n                            </button>\r\n                         </div>\r\n                     </div>\r\n                 )}\r\n\r\n                 {quiz.state === \"QUESTION\" && (\r\n                     <div className=\"w-full\">\r\n                         <h3 className=\"text-3xl sm:text-4xl font-bold mb-10 leading-tight\">\r\n                            {quiz.questions[quiz.current_index].text}\r\n                         </h3>\r\n                         <div className=\"grid grid-cols-2 gap-4 w-full\">\r\n                             {quiz.questions[quiz.current_index].options.map((opt, i) => (\r\n                                 <div \r\n                                     key={i} \r\n                                     className={`p-6 rounded-xl text-xl font-bold flex items-center gap-4 text-white shadow-lg ${\r\n                                         ['bg-red-600', 'bg-blue-600', 'bg-yellow-600', 'bg-green-600'][i]\r\n                                     }`}\r\n                                  >\r\n                                      <span className=\"text-2xl opacity-50\">{['â–²', 'â—†', 'â—', 'â– '][i]}</span>\r\n                                      {opt}\r\n                                  </div>\r\n                             ))}\r\n                         </div>\r\n                         <div className=\"mt-8\">\r\n                             <div className=\"w-full bg-slate-800 h-2 rounded-full overflow-hidden mb-4\">\r\n                                 <div \r\n                                     className=\"h-full bg-white transition-all duration-1000 ease-linear\" \r\n                                     style={{ \r\n                                         width: '100%', \r\n                                         animation: `width_linear ${quiz.questions[quiz.current_index].time_limit}s linear forwards` \r\n                                     }}\r\n                                  ></div>\r\n                             </div>\r\n                             <button onClick={handleNextQuizStep} className=\"text-slate-500 hover:text-white text-sm underline\">\r\n                                Skip Timer / Reveal Answer\r\n                             </button>\r\n                         </div>\r\n                     </div>\r\n                 )}\r\n\r\n                 {quiz.state === \"LEADERBOARD\" && (\r\n                     <div className=\"w-full max-w-lg\">\r\n                         <h3 className=\"text-3xl font-bold mb-6 text-yellow-400\">ðŸ† Leaderboard</h3>\r\n                         <div className=\"space-y-2 mb-8\">\r\n                             {Object.entries(quizScores)\r\n                                .sort(([,a], [,b]) => b - a)\r\n                                .slice(0, 5)\r\n                                .map(([name, score], i) => (\r\n                                 <div key={name} className=\"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700\">\r\n                                     <div className=\"flex items-center gap-3\">\r\n                                         <span className={`font-bold w-6 ${i===0?'text-yellow-400': 'text-slate-400'}`}>\r\n                                            #{i+1}\r\n                                         </span>\r\n                                         <span className=\"text-lg\">{name}</span>\r\n                                     </div>\r\n                                     <span className=\"font-mono font-bold text-blue-400\">{score} pts</span>\r\n                                 </div>\r\n                             ))}\r\n                         </div>\r\n                         <button \r\n                            onClick={handleNextQuizStep} \r\n                            className=\"px-8 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-lg transition\"\r\n                         >\r\n                            Next Question â†’\r\n                         </button>\r\n                     </div>\r\n                 )}\r\n\r\n                 {quiz.state === \"END\" && (\r\n                     <div className=\"space-y-6\">\r\n                         <h1 className=\"text-6xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-400 to-orange-500\">\r\n                            GAME OVER\r\n                         </h1>\r\n                         <div className=\"bg-slate-800 p-8 rounded-3xl border border-yellow-500/30 shadow-2xl\">\r\n                             <p className=\"text-slate-400 uppercase tracking-widest text-sm mb-2\">The Winner is</p>\r\n                             <p className=\"text-4xl font-bold text-white\">\r\n                                {Object.entries(quizScores).sort(([,a], [,b]) => b - a)[0]?.[0] || \"No one\"}\r\n                             </p>\r\n                         </div>\r\n                         <button onClick={() => window.location.reload()} className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition\">\r\n                            Close Quiz\r\n                         </button>\r\n                     </div>\r\n                 )}\r\n             </div>\r\n          ) : (\r\n            // === B. STANDARD DASHBOARD (Polls & Q&A) ===\r\n            <>\r\n              <div className=\"flex justify-between items-center mb-6\">\r\n                <h2 className=\"text-lg sm:text-xl font-semibold flex items-center gap-2\">\r\n                  {viewMode === \"poll\" ? \"ðŸ“Š Live Results\" : \"ðŸ’¬ Audience Q&A\"}\r\n                </h2>\r\n              </div>\r\n\r\n              {viewMode === \"poll\" && (\r\n                !currentPoll ? (\r\n                  <div className=\"flex-1 flex flex-col items-center justify-center text-slate-600 opacity-50\">\r\n                    <span className=\"text-4xl mb-2\">ðŸ’¤</span> No active widget.\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-6\">\r\n                    <h3 className=\"text-2xl font-bold text-center\">{currentPoll.question}</h3>\r\n                    \r\n                    {currentPoll.type === \"multiple_choice\" && (\r\n                      <div className=\"space-y-3 max-w-2xl mx-auto w-full\">\r\n                        {currentPoll.options?.map((opt: { label: string; votes: number }, idx: number) => (\r\n                          <div key={idx} className=\"relative\">\r\n                            <div className=\"flex justify-between text-sm mb-1 px-1\">\r\n                                <span>{opt.label}</span>\r\n                                <span className=\"font-mono bg-slate-800 px-1 rounded\">{opt.votes}</span>\r\n                            </div>\r\n                            <div className=\"h-4 bg-slate-800 rounded-full overflow-hidden\">\r\n                                <div \r\n                                    className=\"h-full bg-blue-500 transition-all duration-500\" \r\n                                    style={{ width: `${Math.max((opt.votes / (currentPoll.total_responses || 1)) * 100, 0)}%` }} \r\n                                />\r\n                            </div>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    )}\r\n\r\n                    {currentPoll.type === \"rating\" && (\r\n                      <div className=\"flex flex-col items-center justify-center py-8\">\r\n                        <div className=\"text-6xl font-bold text-yellow-400 flex items-center gap-2\">\r\n                            {currentPoll.average || 0.0} <span className=\"text-4xl text-slate-600\">/ 5</span>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    {currentPoll.type === \"word_cloud\" && (\r\n                       <div className=\"flex flex-wrap gap-3 justify-center items-center py-4\">\r\n                          {Object.entries(currentPoll.words || {}).map(([word, count]) => (\r\n                             <span \r\n                                key={word} \r\n                                className=\"text-blue-400 font-bold transition-all duration-500\" \r\n                                style={{ fontSize: `${Math.min(1 + (count as number * 0.5), 4)}rem` }}\r\n                             >\r\n                                {word}\r\n                             </span>\r\n                          ))}\r\n                       </div>\r\n                    )}\r\n\r\n                    {currentPoll.type === \"open_ended\" && (\r\n                        <TransientThoughts responses={currentPoll.responses || []} />\r\n                    )}\r\n                  </div>\r\n                )\r\n              )}\r\n\r\n              {viewMode === \"qna\" && (\r\n                <div className=\"space-y-3 overflow-y-auto max-h-125 pr-2 custom-scrollbar\">\r\n                  {questions.sort((a, b) => b.votes - a.votes).map((q: Question) => (\r\n                    <div \r\n                        key={q.id} \r\n                        className={`p-4 rounded-xl border flex gap-4 transition group ${\r\n                            q.visible \r\n                            ? \"bg-slate-800/50 border-slate-700 hover:border-blue-500/30\" \r\n                            : \"bg-slate-900/30 border-slate-800 opacity-50\" \r\n                        }`}\r\n                    >\r\n                      <div className=\"flex flex-col items-center justify-center min-w-10 text-blue-400\">\r\n                        <span className=\"text-lg font-bold\">â–²</span>\r\n                        <span className=\"text-sm font-mono\">{q.votes}</span>\r\n                      </div>\r\n                      <div className=\"flex-1\">\r\n                          <div className={`text-sm sm:text-base ${q.visible ? \"text-slate-200\" : \"text-slate-500 italic line-through\"}`}>\r\n                              {q.text}\r\n                          </div>\r\n                          {!q.visible && <span className=\"text-[10px] text-red-400 uppercase font-bold tracking-wider\">Hidden from audience</span>}\r\n                      </div>\r\n                      <button \r\n                        onClick={() => handleToggleQuestion(q.id)}\r\n                        className=\"opacity-0 group-hover:opacity-100 p-2 rounded hover:bg-slate-700 text-slate-400 transition\"\r\n                      >\r\n                        {q.visible ? \"ðŸš«\" : \"ðŸ‘ï¸\"}\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {/* RIGHT PANEL: Management & Actions */}\r\n        <div className=\"space-y-6\">\r\n          \r\n          {/* 1. PARTICIPANT LIST */}\r\n          <div className=\"bg-slate-900 p-4 sm:p-6 rounded-xl border border-slate-800 shadow-xl max-h-75 overflow-y-auto custom-scrollbar\">\r\n            <h2 className=\"text-lg sm:text-xl font-semibold mb-4 text-slate-300 flex justify-between items-center\">\r\n                <span>ðŸ‘¥ Participants</span>\r\n                <span className=\"bg-slate-800 px-2 py-1 rounded text-sm\">{participants.length}</span>\r\n            </h2>\r\n            <div className=\"space-y-2\">\r\n                {participants.length === 0 && <p className=\"text-slate-500 text-sm italic\">No one joined yet.</p>}\r\n                {participants.map((p) => (\r\n                    <div key={p} className=\"flex justify-between items-center bg-slate-800/50 p-2 rounded hover:bg-slate-800 transition group\">\r\n                        <span className=\"text-sm text-slate-300\">{p}</span>\r\n                        <button \r\n                            onClick={() => handleBanUser(p)}\r\n                            className=\"text-xs bg-red-900/30 text-red-400 px-2 py-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-900/50 transition\"\r\n                        >\r\n                            Ban ðŸš«\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* 2. QUICK ACTIONS */}\r\n          <div className=\"bg-slate-900 p-4 sm:p-6 rounded-xl border border-slate-800 shadow-xl\">\r\n            <h2 className=\"text-lg sm:text-xl font-semibold mb-4 text-slate-300\">Quick Actions</h2>\r\n            <div className=\"grid grid-cols-1 gap-3\">\r\n              <button \r\n                onClick={() => { setShowPollForm(true); setViewMode(\"poll\"); }} \r\n                className=\"p-3 sm:p-4 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base group\"\r\n              >\r\n                <span>Launch New Poll</span><span>ðŸš€</span>\r\n              </button>\r\n              <button \r\n                onClick={() => setShowQuizCreator(true)} \r\n                className=\"p-3 sm:p-4 bg-green-600 hover:bg-green-500 text-white font-bold rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base\"\r\n              >\r\n                <span>Create Quiz</span><span>ðŸ†</span>\r\n              </button>\r\n              <button\r\n                onClick={() => setShowAIModal(true)}\r\n                className=\"flex-1 bg-linear-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 p-4 rounded-xl font-bold flex items-center justify-center gap-2 shadow-lg transition transform hover:scale-[1.02]\"\r\n            >\r\n                <span className=\"text-xl\">âœ¨</span> AI Quiz\r\n              </button>\r\n              <button \r\n                onClick={() => setShowWheel(true)} \r\n                className=\"p-3 sm:p-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base\"\r\n              >\r\n                <span>Spin Winning Wheel</span><span>ðŸŽ²</span>\r\n              </button>\r\n              <button \r\n                onClick={() => setShowMap(true)} \r\n                className=\"p-3 sm:p-4 bg-purple-900/50 hover:bg-purple-900 text-purple-200 border border-purple-500/30 rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base\"\r\n              >\r\n                <span>Open Magic Map</span><span>ðŸŒ</span>\r\n              </button>\r\n              <button \r\n                onClick={handleExport} \r\n                className=\"p-3 sm:p-4 bg-orange-600/20 hover:bg-orange-600/40 text-orange-200 border border-orange-500/30 rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base\"\r\n              >\r\n                <span>Export Results (CSV)</span><span>ðŸ“¥</span>\r\n              </button>\r\n              <button \r\n                onClick={() => setViewMode(\"qna\")} \r\n                className={`p-3 sm:p-4 font-bold rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base ${viewMode === 'qna' ? \"bg-slate-700 text-white border border-blue-500\" : \"bg-slate-800 hover:bg-slate-700 text-slate-300\"}`}\r\n              >\r\n                <span>View Q&A Board</span>\r\n                <span className=\"bg-slate-900 px-2 py-0.5 rounded text-xs\">{questions.length}</span>\r\n              </button>\r\n              <button \r\n                onClick={() => setShowSettings(true)} \r\n                className=\"p-3 sm:p-4 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg transition text-left flex justify-between items-center text-sm sm:text-base\"\r\n              >\r\n                <span>Session Settings</span><span>âš™ï¸</span>\r\n              </button>\r\n              <button \r\n                onClick={handleAiAnalyze} \r\n                disabled={analyzing} \r\n                className=\"mt-2 p-3 sm:p-4 bg-linear-to-r from-purple-700 to-purple-600 hover:from-purple-600 text-white font-bold rounded-lg transition text-left border border-purple-500/30 text-sm sm:text-base flex justify-between items-center\"\r\n              >\r\n                <span>Analyze Room Vibe (AI)</span><span className={analyzing ? \"animate-spin\" : \"\"}>âœ¨</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* AI Result Box */}\r\n          {aiSummary && (\r\n            <div className=\"p-4 bg-slate-800 rounded-lg border border-purple-500/30 animate-fade-in shadow-lg\">\r\n                <div className=\"flex items-center gap-2 mb-2\">\r\n                    <span className=\"text-lg\">ðŸ¤–</span>\r\n                    <h3 className=\"text-purple-400 text-xs font-bold uppercase tracking-widest\">Hive Mind Insights</h3>\r\n                </div>\r\n                <p className=\"text-slate-300 text-xs sm:text-sm whitespace-pre-line leading-relaxed italic border-l-2 border-purple-500 pl-3\">\r\n                    {aiSummary}\r\n                </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </main>\r\n\r\n      {/* MODALS */}\r\n      {showWheel && <WinningWheel participants={participants || []} onClose={() => setShowWheel(false)} />}\r\n      {showPollForm && <CreatePollForm sessionCode={code} onClose={() => setShowPollForm(false)} />}\r\n      {showQuizCreator && <QuizCreator sessionCode={code} onClose={() => setShowQuizCreator(false)} />}\r\n      {showMap && <MagicMap onClose={() => setShowMap(false)} />}\r\n        {/* AI Modal */}\r\n        {showAIModal && (<AIQuizCreator sessionCode={code} onClose={() => setShowAIModal(false)} />)}\r\n  \r\n      \r\n      {/* BRANDING SETTINGS MODAL */}\r\n      {showSettings && (\r\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-sm\">\r\n          <div className=\"bg-slate-900 border border-slate-700 p-6 rounded-2xl w-full max-w-md shadow-2xl\">\r\n            <h2 className=\"text-xl font-bold mb-4\">Session Settings</h2>\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"text-xs font-bold text-slate-500 uppercase tracking-widest mb-1 block\">Custom Logo URL</label>\r\n                <input \r\n                    type=\"text\" \r\n                    value={tempLogo} \r\n                    onChange={(e) => setTempLogo(e.target.value)} \r\n                    placeholder=\"https://example.com/logo.png\" \r\n                    className=\"w-full bg-slate-800 border border-slate-700 p-3 rounded-lg outline-none focus:ring-2 focus:ring-blue-500 transition-all\" \r\n                />\r\n              </div>\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button onClick={() => setShowSettings(false)} className=\"flex-1 py-3 text-slate-400 hover:bg-slate-800 rounded-lg transition font-bold\">Cancel</button>\r\n                <button onClick={saveSettings} className=\"flex-1 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition shadow-lg\">Save Changes</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":["useState","use","Image","dynamic","useSessionStore","Question","useRealtime","AIQuizCreator","CreatePollForm","WinningWheel","QuizCreator","MagicMap","TransientThoughts","ReactionOverlay","ssr","PresenterDashboard","params","Promise","code","currentPoll","questions","isConnected","participants","quiz","quizScores","branding","showPollForm","setShowPollForm","showWheel","setShowWheel","showQuizCreator","setShowQuizCreator","showMap","setShowMap","showSettings","setShowSettings","viewMode","setViewMode","tempLogo","setTempLogo","logo_url","showAIModal","setShowAIModal","aiSummary","setAiSummary","analyzing","setAnalyzing","handleAiAnalyze","contextData","title","state","type","responses","Object","keys","words","question","map","q","text","res","fetch","method","headers","body","JSON","stringify","data","json","summary","alert","handleNextQuizStep","handleExport","window","location","href","handleToggleQuestion","qId","handleBanUser","userName","confirm","name","saveSettings","theme_color","backgroundColor","length","current_index","options","opt","i","width","animation","time_limit","entries","sort","a","b","slice","score","reload","label","votes","idx","Math","max","total_responses","average","word","count","fontSize","min","id","visible","p","e","target","value"],"mappings":"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","ignoreList":[]}}]
}