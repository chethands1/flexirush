{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/src/store/sessionStore.ts"],"sourcesContent":["import { create } from 'zustand';\r\nimport { persist } from 'zustand/middleware';\r\n\r\nexport interface Participant {\r\n  id: string;\r\n  name: string;\r\n  location?: { lat: number; long: number };\r\n}\r\n\r\nexport interface Question {\r\n  id: string;\r\n  text: string;\r\n  votes: number;\r\n  timestamp: string;\r\n  visible?: boolean;\r\n}\r\n\r\nexport interface PollOption {\r\n  label: string;\r\n  votes: number;\r\n}\r\n\r\nexport interface Poll {\r\n  id: string;\r\n  question: string;\r\n  type: \"multiple_choice\" | \"rating\" | \"word_cloud\" | \"open_ended\";\r\n  options?: PollOption[];\r\n  total_responses?: number;\r\n  average?: number;\r\n  words?: Record<string, number>;\r\n  responses?: string[];\r\n}\r\n\r\n// PATCH: Defined specific interface for Quiz Questions to remove 'any'\r\nexport interface QuizQuestion {\r\n  id: string;\r\n  text: string;\r\n  options: string[];\r\n  correct_index: number;\r\n  time_limit: number;\r\n}\r\n\r\nexport interface Quiz {\r\n  title: string;\r\n  state: \"LOBBY\" | \"QUESTION\" | \"LEADERBOARD\" | \"END\";\r\n  current_index: number;\r\n  questions: QuizQuestion[];\r\n  time_limit?: number;\r\n}\r\n\r\ninterface Branding {\r\n  logo_url?: string;\r\n  theme_color?: string;\r\n}\r\n\r\ninterface SessionState {\r\n  token: string | null;\r\n  user: { id: string; email: string } | null;\r\n  isConnected: boolean;\r\n  participants: Participant[];\r\n  questions: Question[];\r\n  currentPoll: Poll | null;\r\n  pollResults: Record<string, number> | null;\r\n  quiz: Quiz | null;\r\n  quizScores: Record<string, number>;\r\n  lastReaction: string | null;\r\n  aiSummary: string;\r\n  branding: Branding;\r\n\r\n  setToken: (token: string | null) => void;\r\n  setUser: (user: { id: string; email: string } | null) => void;\r\n  setConnected: (status: boolean) => void;\r\n  setParticipants: (list: Participant[]) => void;\r\n  setQuestions: (qs: Question[]) => void;\r\n  setPoll: (poll: Poll | null) => void;\r\n  setPollResults: (results: Record<string, number> | null) => void;\r\n  setQuiz: (quiz: Quiz | null) => void;\r\n  setQuizScores: (scores: Record<string, number>) => void;\r\n  setLastReaction: (reaction: string) => void;\r\n  setAiSummary: (summary: string) => void;\r\n  setBranding: (branding: Branding) => void;\r\n}\r\n\r\nexport const useSessionStore = create<SessionState>()(\r\n  persist(\r\n    (set) => ({\r\n      token: null,\r\n      user: null,\r\n      isConnected: false,\r\n      participants: [],\r\n      questions: [],\r\n      currentPoll: null,\r\n      pollResults: null,\r\n      quiz: null,\r\n      quizScores: {},\r\n      lastReaction: null,\r\n      aiSummary: \"\",\r\n      branding: { theme_color: \"#3b82f6\" },\r\n\r\n      setToken: (token) => set({ token }),\r\n      setUser: (user) => set({ user }),\r\n      setConnected: (status) => set({ isConnected: status }),\r\n      setParticipants: (list) => set({ participants: list }),\r\n      setQuestions: (qs) => set({ questions: qs }),\r\n      setPoll: (poll) => set({ currentPoll: poll }),\r\n      setPollResults: (results) => set({ pollResults: results }),\r\n      setQuiz: (quiz) => set({ quiz }),\r\n      setQuizScores: (scores) => set({ quizScores: scores }),\r\n      setLastReaction: (reaction) => set({ lastReaction: reaction }),\r\n      setAiSummary: (summary) => set({ aiSummary: summary }),\r\n      setBranding: (branding) => set({ branding }),\r\n    }),\r\n    {\r\n      name: 'flexirush-storage',\r\n      partialize: (state) => ({ token: state.token, user: state.user, branding: state.branding }),\r\n    }\r\n  )\r\n);"],"names":[],"mappings":";;;;AAAA;AACA;;;AAkFO,MAAM,kBAAkB,IAAA,qJAAM,IACnC,IAAA,2JAAO,EACL,CAAC,MAAQ,CAAC;QACR,OAAO;QACP,MAAM;QACN,aAAa;QACb,cAAc,EAAE;QAChB,WAAW,EAAE;QACb,aAAa;QACb,aAAa;QACb,MAAM;QACN,YAAY,CAAC;QACb,cAAc;QACd,WAAW;QACX,UAAU;YAAE,aAAa;QAAU;QAEnC,UAAU,CAAC,QAAU,IAAI;gBAAE;YAAM;QACjC,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAC9B,cAAc,CAAC,SAAW,IAAI;gBAAE,aAAa;YAAO;QACpD,iBAAiB,CAAC,OAAS,IAAI;gBAAE,cAAc;YAAK;QACpD,cAAc,CAAC,KAAO,IAAI;gBAAE,WAAW;YAAG;QAC1C,SAAS,CAAC,OAAS,IAAI;gBAAE,aAAa;YAAK;QAC3C,gBAAgB,CAAC,UAAY,IAAI;gBAAE,aAAa;YAAQ;QACxD,SAAS,CAAC,OAAS,IAAI;gBAAE;YAAK;QAC9B,eAAe,CAAC,SAAW,IAAI;gBAAE,YAAY;YAAO;QACpD,iBAAiB,CAAC,WAAa,IAAI;gBAAE,cAAc;YAAS;QAC5D,cAAc,CAAC,UAAY,IAAI;gBAAE,WAAW;YAAQ;QACpD,aAAa,CAAC,WAAa,IAAI;gBAAE;YAAS;IAC5C,CAAC,GACD;IACE,MAAM;IACN,YAAY,CAAC,QAAU,CAAC;YAAE,OAAO,MAAM,KAAK;YAAE,MAAM,MAAM,IAAI;YAAE,UAAU,MAAM,QAAQ;QAAC,CAAC;AAC5F"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///app/src/hooks/useRealtime.ts"],"sourcesContent":["import { useEffect, useRef } from 'react';\r\nimport { useSessionStore, Participant } from '@/store/sessionStore';\r\nimport { useRouter } from 'next/navigation';\r\n\r\nexport function useRealtime(sessionCode: string, myName?: string | null) {\r\n  const ws = useRef<WebSocket | null>(null);\r\n  const router = useRouter();\r\n  const reconnectTimeout = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Stable Store Selectors\r\n  const setConnected = useSessionStore((s) => s.setConnected);\r\n  const setPoll = useSessionStore((s) => s.setPoll);\r\n  const setQuestions = useSessionStore((s) => s.setQuestions);\r\n  const setParticipants = useSessionStore((s) => s.setParticipants);\r\n  const setQuiz = useSessionStore((s) => s.setQuiz);\r\n  const setQuizScores = useSessionStore((s) => s.setQuizScores);\r\n  const setLastReaction = useSessionStore((s) => s.setLastReaction);\r\n  const setBranding = useSessionStore((s) => s.setBranding);\r\n\r\n  useEffect(() => {\r\n    // 1. Safety Check\r\n    if (!sessionCode || sessionCode === \"undefined\" || myName === null) return;\r\n\r\n    const connect = () => {\r\n      if (reconnectTimeout.current) clearTimeout(reconnectTimeout.current);\r\n\r\n      const rolePath = myName ? encodeURIComponent(myName) : \"presenter\";\r\n      const wsUrl = `ws://localhost:8001/ws/${sessionCode}/${rolePath}`; \r\n      \r\n      console.log(`üîå Connecting WS to ${wsUrl}`);\r\n      ws.current = new WebSocket(wsUrl);\r\n\r\n      ws.current.onopen = () => {\r\n        console.log('‚úÖ WS Connected');\r\n        setConnected(true);\r\n        \r\n        // 2. Initial State Fetch\r\n        fetch(`http://localhost:8001/api/session/${sessionCode}/state`)\r\n          .then(res => res.ok ? res.json() : null)\r\n          .then(data => {\r\n            if (!data) return;\r\n            \r\n            if (data.current_poll) setPoll(data.current_poll);\r\n            if (data.questions) setQuestions(data.questions);\r\n            \r\n            // Handle Participants: Check if string or object\r\n            if (data.participants) {\r\n                const parts = (data.participants as Array<string | Participant>).map((p) => \r\n                    typeof p === 'string' ? { id: p, name: p } : p\r\n                );\r\n                setParticipants(parts);\r\n            }\r\n\r\n            if (data.quiz) {\r\n                setQuiz(data.quiz);\r\n                if (data.quiz_scores) setQuizScores(data.quiz_scores);\r\n            }\r\n            if (data.branding) setBranding(data.branding);\r\n          })\r\n          .catch(err => console.error(\"‚ùå Initial sync failed:\", err));\r\n      };\r\n\r\n      ws.current.onmessage = (event) => {\r\n        try {\r\n          const data = JSON.parse(event.data);\r\n\r\n          switch (data.type) {\r\n            case 'POLL_START':\r\n            case 'POLL_UPDATE':\r\n              setPoll(data.payload || data.poll);\r\n              break;\r\n            \r\n            case 'QNA_UPDATE':\r\n            case 'QUESTION_UPDATE':\r\n              setQuestions(data.payload || data.questions || []);\r\n              break;\r\n\r\n            case 'PARTICIPANT_UPDATE':\r\n              // Handle mixed formats safely\r\n              const rawList = data.participants || data.names || data.payload || [];\r\n              if (Array.isArray(rawList)) {\r\n                  const cleanList = rawList.map((p: string | Participant) => \r\n                      typeof p === 'string' ? { id: p, name: p } : p\r\n                  );\r\n                  setParticipants(cleanList);\r\n              }\r\n              break;\r\n\r\n            case 'REACTION':\r\n              setLastReaction(`${data.emoji}-${Date.now()}`);\r\n              break;\r\n\r\n            case 'BRANDING_UPDATE':\r\n              setBranding(data.payload || data.branding);\r\n              break;\r\n\r\n            case 'QUIZ_UPDATE':\r\n              const quizData = data.quiz || (data.payload ? data.payload.quiz : null) || data.payload;\r\n              const scoreData = data.scores || (data.payload ? data.payload.scores : null);\r\n              \r\n              if (quizData) setQuiz(quizData);\r\n              if (scoreData) setQuizScores(scoreData);\r\n              break;\r\n\r\n            case 'USER_KICKED':\r\n              if (myName && data.target_name === myName) {\r\n                  alert(\"You have been kicked from the session.\");\r\n                  ws.current?.close(); \r\n                  router.push('/'); \r\n              }\r\n              break;\r\n          }\r\n        } catch (e) {\r\n          console.error(\"WS Parse Error:\", e);\r\n        }\r\n      };\r\n\r\n      ws.current.onclose = (e) => {\r\n        setConnected(false);\r\n        if (e.code !== 1000 && window.location.pathname.includes(sessionCode)) {\r\n          reconnectTimeout.current = setTimeout(connect, 3000);\r\n        }\r\n      };\r\n    };\r\n\r\n    connect();\r\n\r\n    return () => {\r\n      if (reconnectTimeout.current) clearTimeout(reconnectTimeout.current);\r\n      ws.current?.close();\r\n    };\r\n  }, [sessionCode, myName, router, setConnected, setPoll, setQuestions, setParticipants, setQuiz, setQuizScores, setLastReaction, setBranding]);\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 266, "column": 0}, "map": {"version":3,"sources":["file:///app/src/app/presenter/%5Bcode%5D/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback, useMemo } from \"react\";\r\nimport Image from \"next/image\";\r\nimport dynamic from \"next/dynamic\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport { useSessionStore, Question, Quiz } from \"@/store/sessionStore\";\r\nimport { useRealtime } from \"@/hooks/useRealtime\";\r\n\r\n// --- DYNAMIC IMPORTS ---\r\nconst ReactionOverlay = dynamic(() => import(\"@/components/ReactionOverlay\"), { ssr: false });\r\nconst CreatePollForm = dynamic(() => import(\"@/components/CreatePollForm\"), { ssr: false });\r\nconst WinningWheel = dynamic(() => import(\"@/components/WinningWheel\"), { ssr: false });\r\nconst QuizCreator = dynamic(() => import(\"@/components/QuizCreator\"), { ssr: false });\r\nconst AIQuizCreator = dynamic(() => import(\"@/components/AIQuizCreator\"), { ssr: false });\r\nconst MagicMap = dynamic(() => import(\"@/components/MagicMap\"), { ssr: false });\r\nconst TransientThoughts = dynamic(() => import(\"@/components/TransientThoughts\"), { ssr: false });\r\n\r\n// --- CONFIGURATION ---\r\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:8001\";\r\n\r\ninterface PollOption {\r\n  label: string;\r\n  votes: number;\r\n}\r\n\r\nexport default function PresenterDashboard({ params }: { params: Promise<{ code: string }> }) {\r\n  const [resolvedParams, setResolvedParams] = useState<{ code: string } | null>(null);\r\n  \r\n  // --- SIDEBAR MODE LOGIC ---\r\n  const searchParams = useSearchParams();\r\n  const isSidebar = searchParams.get(\"sidebar\") === \"true\";\r\n\r\n  useEffect(() => {\r\n    params.then(setResolvedParams);\r\n  }, [params]);\r\n\r\n  const code = resolvedParams?.code || \"\";\r\n  const router = useRouter();\r\n\r\n  useRealtime(code, \"presenter\");\r\n\r\n  const { \r\n    token,\r\n    isConnected, \r\n    participants, \r\n    currentPoll, \r\n    pollResults,\r\n    questions, \r\n    quiz, \r\n    quizScores, \r\n    branding,\r\n    setQuiz,        \r\n    setPoll,\r\n    setQuestions\r\n  } = useSessionStore();\r\n\r\n  const [showPollForm, setShowPollForm] = useState(false);\r\n  const [showWheel, setShowWheel] = useState(false);\r\n  const [showQuizCreator, setShowQuizCreator] = useState(false);\r\n  const [showAIModal, setShowAIModal] = useState(false);\r\n  const [showMap, setShowMap] = useState(false);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  \r\n  const [viewMode, setViewMode] = useState<\"poll\" | \"qna\">(\"poll\");\r\n  const [tempLogo, setTempLogo] = useState(\"\");\r\n  const [aiSummary, setAiSummary] = useState(\"\");\r\n  const [analyzing, setAnalyzing] = useState(false);\r\n  const [actionLoading, setActionLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (branding?.logo_url) setTempLogo(branding.logo_url);\r\n  }, [branding]);\r\n\r\n  useEffect(() => {\r\n    if (!token && resolvedParams) router.push(\"/login\");\r\n  }, [token, router, resolvedParams]);\r\n\r\n  const apiCall = useCallback(async (endpoint: string, method: \"GET\" | \"POST\" = \"GET\", body?: unknown) => {\r\n    if (!code) return;\r\n    try {\r\n      const res = await fetch(`${API_URL}/api/session/${code}${endpoint}`, {\r\n        method,\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: body ? JSON.stringify(body) : undefined,\r\n      });\r\n      if (!res.ok) throw new Error(`API Error: ${res.statusText}`);\r\n      return await res.json();\r\n    } catch (err) {\r\n      console.error(err);\r\n      return null;\r\n    }\r\n  }, [code]);\r\n\r\n  useEffect(() => {\r\n    if (!code) return;\r\n    apiCall(\"/state\").then((data) => {\r\n      if (data) {\r\n        if (data.quiz) setQuiz(data.quiz);\r\n        if (data.current_poll) setPoll(data.current_poll);\r\n        if (data.questions) setQuestions(data.questions);\r\n      }\r\n    });\r\n  }, [code, apiCall, setQuiz, setPoll, setQuestions]);\r\n\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const handleQuizCreated = useCallback(async (newQuizData: any) => {\r\n    if (newQuizData && newQuizData.title) {\r\n      await apiCall(\"/quiz/start\", \"POST\", newQuizData as Quiz);\r\n      apiCall(\"/state\").then((data) => {\r\n        if (data?.quiz) setQuiz(data.quiz);\r\n      });\r\n    } else {\r\n      apiCall(\"/state\").then((data) => {\r\n        if (data?.quiz) setQuiz(data.quiz);\r\n      });\r\n    }\r\n  }, [apiCall, setQuiz]);\r\n\r\n  const handleAiAnalyze = async () => {\r\n    if (analyzing) return;\r\n    setAnalyzing(true);\r\n    setAiSummary(\"\");\r\n    \r\n    let contextData: string[] = [];\r\n    \r\n    if (quiz) {\r\n       contextData = [`Active Quiz: ${quiz.title}`];\r\n    } else if (currentPoll) {\r\n       contextData = [`Poll Question: ${currentPoll.question}`];\r\n       \r\n       if (currentPoll.type === 'word_cloud' && (pollResults || currentPoll.words)) {\r\n           const words = pollResults || currentPoll.words || {};\r\n           contextData.push(`Words: ${Object.keys(words).join(\", \")}`);\r\n       } else if (currentPoll.type === 'open_ended' && currentPoll.responses) {\r\n           contextData = [...currentPoll.responses];\r\n       } else if (currentPoll.options) {\r\n           (currentPoll.options as PollOption[]).forEach((opt) => {\r\n               const votes = pollResults?.[opt.label] ?? opt.votes ?? 0;\r\n               contextData.push(`${opt.label}: ${votes} votes`);\r\n           });\r\n       }\r\n    } else if (questions.length > 0) {\r\n       contextData = questions.map(q => `Q: ${q.text} (${q.votes} votes)`);\r\n    } else {\r\n        setAiSummary(\"Nothing active to analyze right now.\");\r\n        setAnalyzing(false);\r\n        return;\r\n    }\r\n\r\n    try {\r\n        const res = await fetch(`${API_URL}/api/ai/summarize`, { \r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ responses: contextData })\r\n        });\r\n        \r\n        if(res.ok) {\r\n            const data = await res.json();\r\n            setAiSummary(data.summary || \"AI couldn't generate a summary.\");\r\n        } else {\r\n            setAiSummary(\"AI Service Temporarily Unavailable.\");\r\n        }\r\n    } catch {\r\n        setAiSummary(\"Network Error: Could not reach AI service.\");\r\n    } finally {\r\n        setAnalyzing(false);\r\n    }\r\n  };\r\n\r\n  const handleAction = async (actionFn: () => Promise<void>) => {\r\n    if (actionLoading) return;\r\n    setActionLoading(true);\r\n    await actionFn();\r\n    setTimeout(() => setActionLoading(false), 500);\r\n  };\r\n\r\n  const endPoll = () => handleAction(() => apiCall(\"/poll/end\", \"POST\"));\r\n  const handleNextQuizStep = () => handleAction(() => apiCall(\"/quiz/next\", \"POST\"));\r\n  const handleCloseQuiz = () => handleAction(() => apiCall(\"/quiz/reset\", \"POST\"));\r\n  const handleToggleQuestion = (qId: string) => apiCall(`/question/${qId}/toggle`, \"POST\");\r\n  const handleExport = () => window.location.href = `${API_URL}/api/session/${code}/export`;\r\n  \r\n  const handleBanUser = async (userName: string) => {\r\n    if (!confirm(`Are you sure you want to ban ${userName}?`)) return;\r\n    await apiCall(\"/ban\", \"POST\", { name: userName });\r\n  };\r\n\r\n  const saveSettings = async () => {\r\n    await apiCall(\"/branding\", \"POST\", { \r\n        logo_url: tempLogo, \r\n        theme_color: branding?.theme_color \r\n    });\r\n    setShowSettings(false);\r\n  };\r\n\r\n  const totalPollVotes = useMemo(() => {\r\n    if (!currentPoll?.options) return 0;\r\n    return (currentPoll.options as PollOption[]).reduce((acc, curr) => {\r\n        const liveVotes = pollResults?.[curr.label];\r\n        return acc + (liveVotes !== undefined ? liveVotes : (curr.votes || 0));\r\n    }, 0);\r\n  }, [currentPoll, pollResults]);\r\n\r\n  if (!resolvedParams || !token) {\r\n      return (\r\n        <div className=\"min-h-screen bg-slate-950 flex items-center justify-center text-white\">\r\n            <div className=\"flex flex-col items-center gap-4\">\r\n                <div className=\"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin\"></div>\r\n                <p>Connecting to Studio...</p>\r\n            </div>\r\n        </div>\r\n      );\r\n  }\r\n\r\n  return (\r\n    <div className={`min-h-screen bg-slate-950 text-white transition-all relative overflow-hidden flex flex-col font-sans ${isSidebar ? 'p-2' : 'p-4 sm:p-8'}`}>\r\n      \r\n      {!isSidebar && <ReactionOverlay />}\r\n\r\n      {/* --- HEADER (Hide in Sidebar Mode) --- */}\r\n      {!isSidebar && (\r\n        <header className=\"flex justify-between items-center border-b border-slate-800 pb-4 mb-6 relative z-10\">\r\n            <div className=\"flex items-center gap-3\">\r\n            {branding?.logo_url ? (\r\n                <div className=\"relative w-10 h-10\">\r\n                    <Image src={branding.logo_url} alt=\"Logo\" fill className=\"object-contain rounded-lg shadow-lg\" />\r\n                </div>\r\n            ) : (\r\n                <div \r\n                className=\"w-10 h-10 rounded-lg flex items-center justify-center font-bold shadow-lg text-white\"\r\n                /* webhint: ignore inline-styles */\r\n                style={{ backgroundColor: branding?.theme_color || '#3b82f6' }}\r\n                >\r\n                FR\r\n                </div>\r\n            )}\r\n            <h1 className=\"hidden sm:block text-2xl font-bold bg-clip-text text-transparent bg-linear-to-r from-white to-slate-400\">\r\n                FlexiRush Presenter\r\n            </h1>\r\n            </div>\r\n\r\n            <div className=\"flex flex-col items-end\">\r\n            <div className=\"flex items-center gap-2\">\r\n                <span className={`w-2 h-2 rounded-full ${isConnected ? \"bg-green-500 shadow-[0_0_10px_#22c55e]\" : \"bg-red-500\"} transition-colors duration-300`} />\r\n                <span className=\"text-2xl sm:text-4xl font-mono font-bold tracking-widest text-white select-all cursor-pointer\" title=\"Click to copy\" onClick={() => navigator.clipboard.writeText(code)}>\r\n                    {code}\r\n                </span>\r\n            </div>\r\n            <span className=\"text-[10px] sm:text-xs text-slate-500 uppercase font-bold tracking-tighter\">Join Code</span>\r\n            </div>\r\n        </header>\r\n      )}\r\n\r\n      {/* --- MAIN GRID --- */}\r\n      <main className={`grid gap-6 relative z-10 flex-1 overflow-hidden h-full ${isSidebar ? 'grid-cols-1' : 'grid-cols-1 lg:grid-cols-3'}`}>\r\n        \r\n        {/* --- LEFT PANEL (PREVIEW) - HIDE IN SIDEBAR MODE --- */}\r\n        {!isSidebar && (\r\n            <div className=\"lg:col-span-2 bg-slate-900/50 backdrop-blur-sm p-4 sm:p-8 rounded-2xl border border-slate-800 flex flex-col shadow-2xl relative overflow-y-auto custom-scrollbar min-h-[60vh]\">\r\n            \r\n            {quiz ? (\r\n                <div className=\"flex flex-col h-full items-center justify-center text-center w-full animate-in fade-in zoom-in duration-300\">\r\n                    \r\n                    <div className=\"flex justify-between items-center w-full mb-4 absolute top-4 px-6 z-20\">\r\n                        <h2 className=\"text-sm uppercase tracking-widest text-slate-400 font-bold max-w-[50%] truncate\">{quiz.title}</h2>\r\n                        <div className=\"flex gap-2\">\r\n                            {quiz.state !== \"END\" && (\r\n                                <button onClick={handleNextQuizStep} disabled={actionLoading} className=\"px-3 py-1 bg-slate-800 hover:bg-slate-700 rounded text-xs font-bold transition border border-slate-700\">\r\n                                    Skip ‚è≠\r\n                                </button>\r\n                            )}\r\n                            <button \r\n                                onClick={() => {\r\n                                    if(confirm(\"Are you sure you want to quit the quiz? Progress will be lost.\")) handleCloseQuiz();\r\n                                }}\r\n                                disabled={actionLoading}\r\n                                className=\"px-3 py-1 bg-red-500/10 hover:bg-red-500/20 text-red-200 border border-red-500/30 rounded text-xs font-bold transition\"\r\n                            >\r\n                                ‚úï Quit\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    {quiz.state === \"LOBBY\" && (\r\n                        <div className=\"space-y-8\">\r\n                            <h1 className=\"text-5xl font-black text-transparent bg-clip-text bg-linear-to-r from-blue-400 to-purple-600\">\r\n                                Get Ready!\r\n                            </h1>\r\n                            <div className=\"text-2xl text-white bg-slate-800/80 px-8 py-3 rounded-full inline-block border border-slate-700\">\r\n                                üë• <span className=\"font-mono font-bold text-blue-400\">{participants.length}</span> players ready\r\n                            </div>\r\n                            <div className=\"pt-8\">\r\n                                <button \r\n                                    onClick={handleNextQuizStep} \r\n                                    disabled={actionLoading}\r\n                                    className=\"px-8 py-4 bg-green-600 hover:bg-green-500 active:scale-95 rounded-xl font-bold text-xl shadow-[0_0_20px_rgba(22,163,74,0.4)] transition-all flex items-center gap-2 mx-auto\"\r\n                                >\r\n                                    {actionLoading ? \"Starting...\" : \"Start Game üöÄ\"}\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {quiz.state === \"QUESTION\" && quiz.questions[quiz.current_index] && (\r\n                        <div className=\"w-full max-w-4xl pt-12\">\r\n                            <div className=\"mb-8\">\r\n                                <h3 className=\"text-3xl sm:text-4xl font-bold leading-tight mb-8\">\r\n                                    {quiz.questions[quiz.current_index].text}\r\n                                </h3>\r\n                                <div className=\"w-full bg-slate-800 h-3 rounded-full overflow-hidden relative\">\r\n                                    <div \r\n                                        key={quiz.current_index} \r\n                                        className=\"h-full bg-linear-to-r from-green-500 to-yellow-500 origin-left\" \r\n                                        /* webhint: ignore inline-styles */\r\n                                        style={{ \r\n                                            width: '100%', \r\n                                            animation: `width_linear ${quiz.questions[quiz.current_index].time_limit || 30}s linear forwards` \r\n                                        }}\r\n                                    ></div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 w-full\">\r\n                                {quiz.questions[quiz.current_index].options.map((opt: string, i: number) => (\r\n                                    <div \r\n                                        key={i} \r\n                                        className={`p-6 rounded-xl text-xl font-bold flex items-center gap-4 text-white shadow-lg transition-transform hover:scale-[1.01] ${\r\n                                            ['bg-red-600', 'bg-blue-600', 'bg-yellow-600', 'bg-green-600'][i % 4]\r\n                                        }`}\r\n                                    >\r\n                                        <span className=\"text-2xl opacity-60 bg-black/20 w-10 h-10 flex items-center justify-center rounded-lg\">\r\n                                            {['‚ñ≤', '‚óÜ', '‚óè', '‚ñ†'][i]}\r\n                                        </span>\r\n                                        <span className=\"text-left\">{opt}</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n                    {quiz.state === \"LEADERBOARD\" && (\r\n                        <div className=\"w-full max-w-lg pt-12\">\r\n                            <h3 className=\"text-4xl font-bold mb-8 text-yellow-400 drop-shadow-lg\">üèÜ Leaderboard</h3>\r\n                            <div className=\"space-y-3 mb-10\">\r\n                                {Object.entries(quizScores || {})\r\n                                    .sort(([,a], [,b]) => (b as number) - (a as number))\r\n                                    .slice(0, 5)\r\n                                    .map(([name, score], i) => (\r\n                                    <div key={name} className=\"flex justify-between items-center bg-slate-800 p-4 rounded-xl border border-slate-700 animate-in slide-in-from-bottom-2 fade-in\" style={{ animationDelay: `${i * 100}ms` }}>\r\n                                        <div className=\"flex items-center gap-4\">\r\n                                            <span className={`font-black text-xl w-8 text-center ${i===0?'text-yellow-400': i===1 ? 'text-slate-300' : i===2 ? 'text-orange-400' : 'text-slate-500'}`}>\r\n                                                {i+1}\r\n                                            </span>\r\n                                            <span className=\"text-lg font-medium\">{name}</span>\r\n                                        </div>\r\n                                        <span className=\"font-mono font-bold text-blue-400\">{score as number} pts</span>\r\n                                    </div>\r\n                                ))}\r\n                                {Object.keys(quizScores || {}).length === 0 && (\r\n                                    <p className=\"text-slate-500 italic\">Waiting for scores...</p>\r\n                                )}\r\n                            </div>\r\n                            <button \r\n                                onClick={handleNextQuizStep} \r\n                                disabled={actionLoading}\r\n                                className=\"px-8 py-3 bg-blue-600 hover:bg-blue-500 rounded-xl font-bold text-lg transition shadow-lg hover:shadow-blue-500/25\"\r\n                            >\r\n                                Next Question ‚Üí\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n\r\n                    {quiz.state === \"END\" && (\r\n                        <div className=\"space-y-8 animate-in zoom-in duration-500 pt-12\">\r\n                            <h1 className=\"text-6xl font-black text-transparent bg-clip-text bg-linear-to-r from-yellow-400 to-orange-500 drop-shadow-sm\">\r\n                                GAME OVER\r\n                            </h1>\r\n                            <div className=\"bg-slate-800/80 p-10 rounded-3xl border border-yellow-500/30 shadow-[0_0_30px_rgba(234,179,8,0.2)]\">\r\n                                <p className=\"text-slate-400 uppercase tracking-widest text-sm mb-4\">The Winner is</p>\r\n                                <p className=\"text-5xl font-bold text-white mb-2\">\r\n                                    {Object.entries(quizScores || {}).sort(([,a], [,b]) => (b as number) - (a as number))[0]?.[0] || \"No one\"}\r\n                                </p>\r\n                                <p className=\"text-yellow-400 text-xl font-mono\">\r\n                                    {Object.entries(quizScores || {}).sort(([,a], [,b]) => (b as number) - (a as number))[0]?.[1] || 0} pts\r\n                                </p>\r\n                            </div>\r\n                            <button onClick={handleCloseQuiz} disabled={actionLoading} className=\"px-6 py-3 bg-slate-700 hover:bg-slate-600 rounded-lg transition font-medium text-slate-200\">\r\n                                Close Quiz & Return to Lobby\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            ) : (\r\n                <>\r\n                <div className=\"flex justify-between items-center mb-6\">\r\n                    <h2 className=\"text-lg sm:text-xl font-semibold flex items-center gap-2\">\r\n                    {viewMode === \"poll\" ? \"üìä Live Results\" : \"üí¨ Audience Q&A\"}\r\n                    </h2>\r\n                    {currentPoll && (\r\n                        <button onClick={endPoll} disabled={actionLoading} className=\"text-xs bg-red-900/50 text-red-300 border border-red-900 px-3 py-1 rounded hover:bg-red-900 transition flex items-center gap-1\">\r\n                            <span className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></span> Stop Poll\r\n                        </button>\r\n                    )}\r\n                </div>\r\n\r\n                {viewMode === \"poll\" && (\r\n                    !currentPoll ? (\r\n                    <div className=\"flex-1 flex flex-col items-center justify-center text-slate-600\">\r\n                        <span className=\"text-6xl mb-4 grayscale opacity-20\">üìä</span>\r\n                        <p className=\"opacity-50 text-lg\">No active poll</p>\r\n                        <button onClick={() => setShowPollForm(true)} className=\"mt-4 text-blue-400 hover:text-blue-300 underline\">Launch one now</button>\r\n                    </div>\r\n                    ) : (\r\n                    <div className=\"space-y-8 animate-in fade-in slide-in-from-bottom-4\">\r\n                        <h3 className=\"text-3xl font-bold text-center leading-snug\">{currentPoll.question}</h3>\r\n                        \r\n                        {currentPoll.type === \"multiple_choice\" && (\r\n                        <div className=\"space-y-4 max-w-2xl mx-auto w-full\">\r\n                            {currentPoll.options?.map((opt: { label: string; votes: number }, idx: number) => {\r\n                            const count = pollResults?.[opt.label] ?? opt.votes ?? 0;\r\n                            const percent = totalPollVotes > 0 ? (count / totalPollVotes) * 100 : 0;\r\n                            \r\n                            return (\r\n                                <div key={idx} className=\"relative group\">\r\n                                    <div className=\"flex justify-between text-base font-medium mb-1 px-1\">\r\n                                        <span>{opt.label}</span>\r\n                                        <div className=\"flex items-center gap-2\">\r\n                                            <span className=\"text-slate-400 text-sm\">{Math.round(percent)}%</span>\r\n                                            <span className=\"font-mono bg-slate-800 px-2 py-0.5 rounded text-white\">{count}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"h-5 bg-slate-800 rounded-full overflow-hidden border border-slate-700\">\r\n                                        <div \r\n                                            className=\"h-full bg-blue-500 transition-all duration-700 ease-out relative overflow-hidden\" \r\n                                            /* webhint: ignore inline-styles */\r\n                                            style={{ width: `${percent}%` }}\r\n                                        >\r\n                                            <div className=\"absolute inset-0 bg-white/10 w-full h-full animate-[shimmer_2s_infinite]\"></div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            );\r\n                            })}\r\n                            <p className=\"text-center text-slate-500 text-sm mt-4\">{totalPollVotes} total votes</p>\r\n                        </div>\r\n                        )}\r\n\r\n                        {currentPoll.type === \"rating\" && (\r\n                        <div className=\"flex flex-col items-center justify-center py-12\">\r\n                            <div className=\"relative\">\r\n                                <div className=\"text-8xl font-black text-transparent bg-clip-text bg-linear-to-br from-yellow-300 to-yellow-600 flex items-baseline gap-2\">\r\n                                    {currentPoll.average || 0.0} \r\n                                </div>\r\n                            </div>\r\n                            <div className=\"flex gap-1 mt-4\">\r\n                                {[1,2,3,4,5].map(star => (\r\n                                    <span key={star} className={`text-4xl ${star <= Math.round(currentPoll.average || 0) ? 'text-yellow-400' : 'text-slate-700'}`}>‚òÖ</span>\r\n                                ))}\r\n                            </div>\r\n                            <p className=\"text-slate-500 mt-4\">{Object.values(pollResults || {}).reduce((a:number,b:number)=>a+b, 0)} votes</p>\r\n                        </div>\r\n                        )}\r\n\r\n                        {currentPoll.type === \"word_cloud\" && (\r\n                            <div className=\"flex flex-wrap gap-4 justify-center items-center py-8 min-h-75\">\r\n                            {/* FIX: Correctly prioritize static words if live votes are empty */}\r\n                            {(() => {\r\n                                const wordsToShow = (pollResults && Object.keys(pollResults).length > 0) \r\n                                    ? pollResults \r\n                                    : (currentPoll.words || {});\r\n                                \r\n                                const entries = Object.entries(wordsToShow);\r\n\r\n                                if (entries.length === 0) return <span className=\"text-slate-500\">Waiting for words...</span>;\r\n\r\n                                return entries.map(([word, count]) => (\r\n                                    <span \r\n                                        key={word} \r\n                                        className=\"text-blue-400 font-bold transition-all duration-500 hover:scale-110 cursor-default animate-in zoom-in\" \r\n                                        /* webhint: ignore inline-styles */\r\n                                        style={{ \r\n                                            fontSize: `${Math.min(1.5 + (count as number * 0.5), 5)}rem`,\r\n                                            opacity: Math.min(0.5 + (count as number * 0.1), 1)\r\n                                        }}\r\n                                    >\r\n                                        {word}\r\n                                    </span>\r\n                                ));\r\n                            })()}\r\n                            </div>\r\n                        )}\r\n\r\n                        {currentPoll.type === \"open_ended\" && (\r\n                            <TransientThoughts responses={currentPoll.responses || []} />\r\n                        )}\r\n                    </div>\r\n                    )\r\n                )}\r\n\r\n                {/* VIEW: Q&A */}\r\n                {viewMode === \"qna\" && (\r\n                    <div className=\"space-y-3 overflow-y-auto max-h-[65vh] pr-2 custom-scrollbar\">\r\n                    {questions.length === 0 && (\r\n                        <div className=\"text-center py-10 text-slate-500\">\r\n                            <p>No questions yet.</p>\r\n                            <p className=\"text-sm\">Audience can ask questions from their devices.</p>\r\n                        </div>\r\n                    )}\r\n                    {questions.sort((a, b) => b.votes - a.votes).map((q: Question) => (\r\n                        <div \r\n                            key={q.id} \r\n                            className={`p-4 rounded-xl border flex gap-4 transition group animate-in slide-in-from-right-2 ${\r\n                                q.visible !== false \r\n                                ? \"bg-slate-800/50 border-slate-700 hover:border-blue-500/30\" \r\n                                : \"bg-slate-900/30 border-slate-800 opacity-50 grayscale\" \r\n                            }`}\r\n                        >\r\n                        <div className=\"flex flex-col items-center justify-center min-w-12 text-blue-400 bg-slate-900/50 rounded-lg p-2 h-fit\">\r\n                            <span className=\"text-lg font-bold\">‚ñ≤</span>\r\n                            <span className=\"text-sm font-mono font-bold\">{q.votes}</span>\r\n                        </div>\r\n                        <div className=\"flex-1\">\r\n                            <div className={`text-base font-medium ${q.visible !== false ? \"text-slate-200\" : \"text-slate-500 italic line-through\"}`}>\r\n                                {q.text}\r\n                            </div>\r\n                            {q.visible === false && <span className=\"text-[10px] text-red-400 uppercase font-bold tracking-wider mt-1 block\">Hidden</span>}\r\n                        </div>\r\n                        <button \r\n                            onClick={() => handleToggleQuestion(q.id)}\r\n                            className={`px-3 py-1 rounded text-sm font-bold transition h-fit self-center ${\r\n                                q.visible !== false \r\n                                ? \"bg-slate-700 text-slate-300 hover:bg-slate-600\"\r\n                                : \"bg-blue-900/30 text-blue-400 hover:bg-blue-900/50\"\r\n                            }`}\r\n                        >\r\n                            {q.visible !== false ? \"Hide\" : \"Show\"}\r\n                        </button>\r\n                        </div>\r\n                    ))}\r\n                    </div>\r\n                )}\r\n                </>\r\n            )}\r\n            </div>\r\n        )}\r\n\r\n        {/* --- RIGHT PANEL (CONTROLS & LIST) --- */}\r\n        <div className=\"space-y-6 h-full overflow-y-auto custom-scrollbar pr-1 pb-20\">\r\n          \r\n          {/* PARTICIPANTS CARD */}\r\n          <div className=\"bg-slate-900/80 p-5 rounded-xl border border-slate-800 shadow-xl backdrop-blur-md\">\r\n            <h2 className=\"text-base font-bold text-slate-300 flex justify-between items-center mb-4 uppercase tracking-wider\">\r\n                <span>üë• Participants</span>\r\n                <span className=\"bg-slate-800 px-2 py-1 rounded text-white border border-slate-700\">{participants.length}</span>\r\n            </h2>\r\n            <div className=\"space-y-1 max-h-48 overflow-y-auto custom-scrollbar\">\r\n                {participants.length === 0 && <p className=\"text-slate-500 text-sm italic text-center py-4\">Waiting for joiners...</p>}\r\n                {participants.map((p) => (\r\n                    <div key={p.id} className=\"flex justify-between items-center bg-slate-800/30 p-2 rounded hover:bg-slate-800 transition group border border-transparent hover:border-slate-700\">\r\n                        <span className=\"text-sm text-slate-300 font-medium truncate max-w-[70%]\">{p.name}</span>\r\n                        <button \r\n                            onClick={() => handleBanUser(p.name)}\r\n                            className=\"text-[10px] bg-red-500/10 text-red-400 px-2 py-1 rounded opacity-0 group-hover:opacity-100 hover:bg-red-500/20 transition font-bold\"\r\n                        >\r\n                            KICK\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* ACTIONS CARD */}\r\n          <div className=\"bg-slate-900/80 p-5 rounded-xl border border-slate-800 shadow-xl backdrop-blur-md\">\r\n            <h2 className=\"text-base font-bold text-slate-300 mb-4 uppercase tracking-wider\">Control Deck</h2>\r\n            \r\n            {/* QUIZ CONTROLS - ALWAYS VISIBLE IF QUIZ ACTIVE */}\r\n            {quiz && (\r\n                <div className=\"mb-4 p-4 bg-blue-900/20 border border-blue-500/50 rounded-lg animate-pulse\">\r\n                    <p className=\"text-xs text-blue-300 font-bold uppercase mb-2\">Active Quiz: {quiz.state}</p>\r\n                    <div className=\"flex flex-col gap-2\">\r\n                        {quiz.state === 'LOBBY' && <button onClick={handleNextQuizStep} className=\"p-3 bg-green-600 hover:bg-green-500 rounded font-bold transition\">Start Game ‚ñ∂</button>}\r\n                        {quiz.state === 'QUESTION' && <div className=\"text-center text-sm font-bold text-white bg-slate-800 p-2 rounded\">Question Live...</div>}\r\n                        {quiz.state === 'LEADERBOARD' && <button onClick={handleNextQuizStep} className=\"p-3 bg-blue-600 hover:bg-blue-500 rounded font-bold transition\">Next Question ‚û°</button>}\r\n                        <button onClick={handleCloseQuiz} className=\"p-2 bg-red-500/20 hover:bg-red-500/30 text-red-300 rounded text-xs border border-red-500/20 transition\">End Quiz</button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            <div className=\"grid grid-cols-1 gap-3\">\r\n              <button \r\n                onClick={() => { setShowPollForm(true); setViewMode(\"poll\"); }} \r\n                className=\"p-4 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition text-left flex justify-between items-center group active:scale-[0.98]\"\r\n              >\r\n                <span>Launch New Poll</span><span className=\"group-hover:translate-x-1 transition\">üöÄ</span>\r\n              </button>\r\n\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                  <button \r\n                    onClick={() => setShowQuizCreator(true)} \r\n                    className=\"p-3 bg-green-600 hover:bg-green-500 text-white font-bold rounded-lg transition flex flex-col items-center justify-center gap-1 active:scale-[0.98]\"\r\n                  >\r\n                    <span className=\"text-xl\">üèÜ</span>\r\n                    <span className=\"text-xs\">Manual Quiz</span>\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setShowAIModal(true)}\r\n                    className=\"p-3 bg-linear-to-br from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold rounded-lg transition flex flex-col items-center justify-center gap-1 shadow-lg active:scale-[0.98]\"\r\n                  >\r\n                    <span className=\"text-xl\">‚ú®</span>\r\n                    <span className=\"text-xs\">AI Quiz</span>\r\n                  </button>\r\n              </div>\r\n\r\n              <button \r\n                onClick={() => setShowWheel(true)} \r\n                className=\"p-3 bg-slate-800 hover:bg-slate-700 text-slate-200 border border-slate-700 rounded-lg transition text-left flex justify-between items-center text-sm\"\r\n              >\r\n                <span>Spin Wheel</span><span>üé≤</span>\r\n              </button>\r\n              \r\n              {/* STREAMALIVE-STYLE CHAT PARSER */}\r\n              <div className=\"bg-slate-800/50 p-3 rounded-lg border border-slate-700 mt-2\">\r\n                  <label htmlFor=\"chat-input\" className=\"text-xs text-slate-400 font-bold uppercase block mb-2\">Paste Chat Log (Zoom/Teams)</label>\r\n                  <textarea \r\n                      id=\"chat-input\"\r\n                      className=\"w-full bg-slate-900 text-xs text-white p-2 rounded h-16 border border-slate-700 mb-2 focus:ring-1 focus:ring-blue-500 outline-none\"\r\n                      placeholder=\"Paste chat here...\"\r\n                  ></textarea>\r\n                  <button \r\n                      onClick={async () => {\r\n                          const text = (document.getElementById('chat-input') as HTMLTextAreaElement).value;\r\n                          if (!text) return;\r\n                          \r\n                          // 1. Reset current state first (Visual feedback)\r\n                          setPoll(null); \r\n                          \r\n                          // 2. Simple NLP: Filter out short words, count frequency\r\n                          // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n                          const words = text.split(/\\s+/).filter(w => w.length > 3).reduce((acc: any, word) => {\r\n                              const clean = word.toLowerCase().replace(/[^a-z]/g, '');\r\n                              if (clean.length > 3) {\r\n                                  acc[clean] = (acc[clean] || 0) + 1;\r\n                              }\r\n                              return acc;\r\n                          }, {});\r\n\r\n                          // 3. Send to backend\r\n                          await apiCall(\"/poll/start\", \"POST\", { \r\n                              type: \"word_cloud\", \r\n                              question: \"Chat Insights\", \r\n                              words: words \r\n                          });\r\n\r\n                          // 4. Force a fetch to ensure UI syncs if socket is slow\r\n                          setTimeout(() => {\r\n                              apiCall(\"/state\").then((data) => {\r\n                                  if (data?.current_poll) setPoll(data.current_poll);\r\n                              });\r\n                          }, 300);\r\n                      }}\r\n                      className=\"w-full bg-purple-600 hover:bg-purple-500 text-white text-xs font-bold py-2 rounded transition\"\r\n                  >\r\n                      ‚ú® Visualize Chat\r\n                  </button>\r\n              </div>\r\n\r\n              {!isSidebar && (\r\n                  <>\r\n                    <button \r\n                        onClick={() => setShowMap(true)} \r\n                        className=\"p-3 bg-purple-900/30 hover:bg-purple-900/50 text-purple-200 border border-purple-500/30 rounded-lg transition text-left flex justify-between items-center text-sm\"\r\n                    >\r\n                        <span>Magic Map</span><span>üåç</span>\r\n                    </button>\r\n                    \r\n                    <button \r\n                        onClick={handleExport} \r\n                        className=\"p-3 bg-orange-900/20 hover:bg-orange-900/40 text-orange-200 border border-orange-500/20 rounded-lg transition text-left flex justify-between items-center text-sm\"\r\n                    >\r\n                        <span>Export CSV</span><span>üì•</span>\r\n                    </button>\r\n                  </>\r\n              )}\r\n\r\n              <div className=\"h-px bg-slate-800 my-1\"></div>\r\n\r\n              <button \r\n                onClick={() => setViewMode(\"qna\")} \r\n                className={`p-3 font-bold rounded-lg transition text-left flex justify-between items-center text-sm ${viewMode === 'qna' ? \"bg-slate-700 text-white ring-2 ring-blue-500\" : \"bg-slate-800 hover:bg-slate-700 text-slate-300\"}`}\r\n              >\r\n                <span>View Q&A Board</span>\r\n                <span className=\"bg-slate-900 px-2 py-0.5 rounded text-xs border border-slate-700\">{questions.length}</span>\r\n              </button>\r\n              \r\n              {!isSidebar && (\r\n                <button \r\n                    onClick={() => setShowSettings(true)} \r\n                    className=\"p-3 bg-slate-800 hover:bg-slate-700 text-slate-400 rounded-lg transition text-left flex justify-between items-center text-sm hover:text-white\"\r\n                >\r\n                    <span>Settings</span><span>‚öôÔ∏è</span>\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          \r\n          {/* AI INSIGHTS BUTTON & CARD */}\r\n          <div className=\"space-y-3\">\r\n              <button \r\n                onClick={handleAiAnalyze} \r\n                disabled={analyzing} \r\n                className=\"w-full p-4 bg-linear-to-r from-indigo-600 to-purple-600 hover:from-indigo-500 hover:to-purple-500 text-white font-bold rounded-xl transition text-left border border-indigo-400/30 flex justify-between items-center shadow-lg active:scale-[0.98]\"\r\n              >\r\n                <div className=\"flex flex-col\">\r\n                    <span className=\"text-sm\">Analyze Room Vibe</span>\r\n                    <span className=\"text-[10px] opacity-70 font-normal\">Powered by Gemini AI</span>\r\n                </div>\r\n                <span className={analyzing ? \"animate-spin text-xl\" : \"text-xl\"}>{analyzing ? \"‚öôÔ∏è\" : \"üîÆ\"}</span>\r\n              </button>\r\n\r\n              {aiSummary && (\r\n                <div className=\"p-4 bg-slate-800/90 rounded-xl border border-purple-500/30 animate-in fade-in slide-in-from-top-2 shadow-lg backdrop-blur-sm\">\r\n                    <div className=\"flex items-center gap-2 mb-2\">\r\n                        <span className=\"text-lg\">ü§ñ</span>\r\n                        <h3 className=\"text-purple-400 text-xs font-bold uppercase tracking-widest\">Hive Mind Insights</h3>\r\n                    </div>\r\n                    <p className=\"text-slate-300 text-sm leading-relaxed italic border-l-2 border-purple-500 pl-3\">\r\n                        &quot;{aiSummary}&quot;\r\n                    </p>\r\n                </div>\r\n              )}\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* --- MODALS --- */}\r\n      \r\n      {showWheel && (\r\n         <WinningWheel participants={participants.map(p => p.name) || []} onClose={() => setShowWheel(false)} />\r\n      )}\r\n\r\n      {showPollForm && <CreatePollForm sessionCode={code} onClose={() => setShowPollForm(false)} />}\r\n      {showQuizCreator && <QuizCreator sessionCode={code} onClose={() => setShowQuizCreator(false)} />}\r\n      {showAIModal && <AIQuizCreator sessionCode={code} onClose={() => setShowAIModal(false)} onSuccess={handleQuizCreated} />}\r\n\r\n      {showMap && (\r\n        <div className=\"fixed inset-0 bg-black/90 flex items-center justify-center z-50 p-4 animate-in fade-in duration-200 backdrop-blur-sm\">\r\n            <div className=\"w-full max-w-6xl h-[80vh] bg-slate-900 rounded-2xl relative flex flex-col overflow-hidden border border-slate-700 shadow-2xl\">\r\n                <div className=\"p-4 border-b border-slate-800 flex justify-between items-center bg-slate-900 z-10\">\r\n                    <h2 className=\"text-xl font-bold flex items-center gap-2\">\r\n                        üåç Magic Map <span className=\"text-xs font-normal text-slate-500 bg-slate-800 px-2 py-1 rounded border border-slate-700\">Live Locations</span>\r\n                    </h2>\r\n                    <button \r\n                        onClick={() => setShowMap(false)} \r\n                        className=\"text-slate-400 hover:text-white bg-slate-800 hover:bg-slate-700 px-3 py-1 rounded transition font-bold\"\r\n                    >\r\n                        ‚úï Close\r\n                    </button>\r\n                </div>\r\n                <div className=\"flex-1 bg-black relative\">\r\n                    <MagicMap />\r\n                </div>\r\n            </div>\r\n        </div>\r\n      )}\r\n  \r\n      {showSettings && (\r\n        <div className=\"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50 backdrop-blur-sm animate-in fade-in\">\r\n          <div className=\"bg-slate-900 border border-slate-700 p-6 rounded-2xl w-full max-w-md shadow-2xl scale-100\">\r\n            <h2 className=\"text-xl font-bold mb-6 flex items-center gap-2\">‚öôÔ∏è Session Settings</h2>\r\n            <div className=\"space-y-6\">\r\n              \r\n              {/* BRANDING SECTION */}\r\n              <div>\r\n                <label htmlFor=\"logo-url\" className=\"text-xs font-bold text-slate-500 uppercase tracking-widest mb-2 block\">Custom Logo URL</label>\r\n                <input \r\n                    id=\"logo-url\"\r\n                    aria-label=\"Custom Logo URL\"\r\n                    type=\"text\" \r\n                    value={tempLogo} \r\n                    onChange={(e) => setTempLogo(e.target.value)} \r\n                    placeholder=\"https://example.com/logo.png\" \r\n                    className=\"w-full bg-slate-800 border border-slate-700 p-3 rounded-lg outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm placeholder:text-slate-600\" \r\n                />\r\n              </div>\r\n\r\n              {/* EMBED SECTION (NEW) */}\r\n              <div className=\"bg-slate-800/50 p-4 rounded-xl border border-slate-700\">\r\n                <label className=\"text-xs font-bold text-blue-400 uppercase tracking-widest mb-2 block\">Embed in Slides / Notion</label>\r\n                <p className=\"text-[10px] text-slate-400 mb-3\">\r\n                    Copy this URL into an iframe or the &quot;Web Viewer&quot; add-in for PowerPoint.\r\n                </p>\r\n                <div className=\"flex gap-2\">\r\n                    <input \r\n                        readOnly \r\n                        aria-label=\"Embed Code URL\"\r\n                        value={`${typeof window !== 'undefined' ? window.location.origin : ''}/embed/presenter/${code}?transparent=true`}\r\n                        className=\"flex-1 bg-slate-950 border border-slate-800 p-2 rounded text-xs text-slate-300 font-mono select-all\"\r\n                    />\r\n                    <button \r\n                        onClick={() => {\r\n                            const url = `${window.location.origin}/embed/presenter/${code}?transparent=true`;\r\n                            navigator.clipboard.writeText(`<iframe src=\"${url}\" width=\"100%\" height=\"600\" frameborder=\"0\"></iframe>`);\r\n                            alert(\"Iframe code copied to clipboard!\");\r\n                        }}\r\n                        className=\"bg-blue-600 hover:bg-blue-500 text-white px-3 py-1 rounded text-xs font-bold transition\"\r\n                    >\r\n                        Copy\r\n                    </button>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex gap-3 pt-2\">\r\n                <button onClick={() => setShowSettings(false)} className=\"flex-1 py-3 text-slate-400 hover:bg-slate-800 rounded-lg transition font-bold border border-transparent hover:border-slate-700\">Close</button>\r\n                <button onClick={saveSettings} className=\"flex-1 py-3 bg-blue-600 hover:bg-blue-500 text-white font-bold rounded-lg transition shadow-lg\">Save Branding</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}}]
}